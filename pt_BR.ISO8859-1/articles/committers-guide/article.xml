<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE article PUBLIC "-//FreeBSD//DTD DocBook XML V5.0-Based Extension//EN" "http://www.FreeBSD.org/XML/share/xml/freebsd50.dtd" [
<!ENTITY ga "Google Analytics">
]>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:its="http://www.w3.org/2005/11/its" version="5.0" xml:lang="pt_BR">

  <info>
    <title>Guia dos Committers</title>

    <author><orgname>Projeto de Documentação do FreeBSD</orgname></author>

    <copyright><year>1999</year> <year>2000</year> <year>2001</year> <year>2002</year> <year>2003</year> <year>2004</year> <year>2005</year> <year>2006</year> <year>2007</year> <year>2008</year> <year>2009</year> <year>2010</year> <year>2011</year> <year>2012</year> <year>2013</year> <year>2014</year> <year>2015</year> <year>2016</year> <year>2017</year> <year>2018</year> <holder>Projeto de Documentação do FreeBSD</holder></copyright>

    <legalnotice xml:id="trademarks" role="trademarks">
      <para>FreeBSD is a registered trademark of the FreeBSD Foundation.</para>
      <para>Coverity is a registered trademark; Coverity Extend, Coverity Prevent and Coverity Prevent SQS are trademarks of Coverity, Inc.</para>
      <para>IBM, AIX, OS/2, PowerPC, PS/2, S/390, and ThinkPad are trademarks of International Business Machines Corporation in the United States, other countries, or both.</para>
      <para>Intel, Celeron, Centrino, Core, EtherExpress, i386, i486, Itanium, Pentium, and Xeon are trademarks or registered trademarks of Intel Corporation or its subsidiaries in the United States and other countries.</para>
      <para>SPARC, SPARC64, and UltraSPARC are trademarks of SPARC International, Inc in the United States and other countries. SPARC International, Inc owns all of the SPARC trademarks and under licensing agreements allows the proper use of these trademarks by its members.</para>
      <para>Many of the designations used by manufacturers and sellers to distinguish their products are claimed as trademarks. Where those designations appear in this document, and the FreeBSD Project was aware of the trademark claim, the designations have been followed by the <quote>™</quote> or the <quote>®</quote> symbol.</para>
    </legalnotice>

    <pubdate>$FreeBSD$</pubdate>

    <releaseinfo>$FreeBSD$</releaseinfo>

    <abstract>
      <para>Este documento fornece informações para a comunidade de committers do FreeBSD. Todos os novos committers devem ler este documento antes de começar, e os committers existentes são fortemente encorajados a revisá-lo de tempos em tempos.</para>

      <para>Quase todos os desenvolvedores do FreeBSD possuem direitos de commit para um ou mais repositórios. No entanto, alguns desenvolvedores não tem, e algumas das informações aqui se aplicam a eles também. (Por exemplo, algumas pessoas só têm direitos para trabalhar com o banco de dados do Relatório de Problemas). Por favor, veja <xref linkend="non-committers"/> para mais informações.</para>

      <para>Este documento também pode ser de interesse para os membros da comunidade FreeBSD que querem aprender mais sobre como o projeto funciona.</para>
    </abstract>
  </info>

  <sect1 xml:id="admin">
    <title>Detalhes Administrativos</title>

    <informaltable frame="none" orient="port" pgwide="1">
      <tgroup cols="2">
	<colspec colwidth="20*"/>
	<colspec colwidth="80*"/>
	<tbody>
	  <row>
	    <entry><emphasis>Métodos de login</emphasis></entry>
	    <entry><citerefentry><refentrytitle>ssh</refentrytitle><manvolnum>1</manvolnum> </citerefentry>,_apenas no protocolo 2</entry>
	  </row>

	  <row>
	    <entry><emphasis>Servidor Principal de Shell</emphasis></entry>
	    <entry><systemitem class="fqdomainname">freefall.FreeBSD.org</systemitem></entry>
	  </row>

	  <row>
	    <entry><emphasis>Raiz do Subversion para o <literal>src/</literal></emphasis></entry>
	    <entry><literal>svn+ssh://</literal><systemitem class="fqdomainname">repo.FreeBSD.org</systemitem><filename>/base</filename> (veja também <xref linkend="svn-getting-started-base-layout"/>).</entry>
	  </row>

	  <row>
	    <entry><emphasis>Raiz do Subversion para o <literal>doc/</literal></emphasis></entry>
	    <entry><literal>svn+ssh://</literal><systemitem class="fqdomainname">repo.FreeBSD.org</systemitem><filename>/doc</filename> (veja também <xref linkend="svn-getting-started-doc-layout"/>).</entry>
	  </row>

	  <row>
	    <entry><emphasis>Raiz do Subversion para o <literal>ports/</literal></emphasis></entry>

	    <entry><literal>svn+ssh://</literal><systemitem class="fqdomainname">repo.FreeBSD.org</systemitem><filename>/ports</filename> (veja também <xref linkend="svn-getting-started-ports-layout"/>).</entry>
	  </row>

	  <row>
	    <entry><emphasis>Listas de Discussão Internas</emphasis></entry>
	    <entry>developers (tecnicamente chamada de all-developers), doc-developers, doc-committers, ports-developers, ports-committers, src-developers, src-committers. (cada repositório do projeto tem as suas próprias listas de discussão -developers e -committers. Os arquivos destas listas podem ser encontrados nos arquivos <filename>/local/mail/<replaceable>repository-name</replaceable>-developers-archive</filename> e <filename>/local/mail/<replaceable>repository-name</replaceable>-committers-archive</filename> no cluster <systemitem class="fqdomainname">FreeBSD.org</systemitem>.)</entry>
	  </row>


	  <row>
	    <entry><emphasis>Relatórios mensais do Core Team</emphasis></entry>
	    <entry>Disponíveis no diretório <filename>/home/core/public/monthly-reports</filename> do cluster <systemitem class="fqdomainname">FreeBSD.org</systemitem>.</entry>
	  </row>

	  <row>
	    <entry><emphasis>Relatórios mensais da Equipe de Gestão do Ports</emphasis></entry>
	    <entry>Disponíveis no diretório <filename>/home/portmgr/public/monthly-reports</filename> do cluster <systemitem class="fqdomainname">FreeBSD.org</systemitem>.</entry>
	  </row>

	  <row>
	    <entry><emphasis>Branchs SVN do <literal>src/</literal> dignas de atenção</emphasis></entry>
	    <entry><literal>stable/</literal><replaceable>n</replaceable> (<replaceable>n</replaceable>-STABLE), <literal>head</literal> (-CURRENT)</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <para>O <citerefentry><refentrytitle>ssh</refentrytitle><manvolnum>1</manvolnum></citerefentry> é necessário para se conectar aos servidores do projeto. Para mais informações, veja <xref linkend="ssh.guide"/>.</para>

    <para>Links Úteis:</para>

    <itemizedlist>
      <listitem>
	<para><link xlink:href="@@URL_RELPREFIX@@/internal/">Páginas Internas do Projeto FreeBSD</link></para>
      </listitem>

      <listitem>
	<para><link xlink:href="@@URL_RELPREFIX@@/internal/machines.html">Servidores do Projeto FreeBSD</link></para>
      </listitem>

      <listitem>
	<para><link xlink:href="@@URL_RELPREFIX@@/administration.html">Grupos Administrativos do Projeto FreeBSD</link></para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xml:id="pgpkeys">
    <title>Chaves Open<acronym>PGP</acronym> para o FreeBSD</title>

    <para>O projeto FreeBSD utiliza chaves criptográficas em conformidade com o padrão Open<acronym>PGP</acronym> (<emphasis>Pretty Good Privacy</emphasis>) para autenticar os committers. Mensagens contendo informações importantes como chaves públicas <acronym>SSH</acronym> podem ser assinadas com uma chave Open<acronym>PGP</acronym> para provar que elas vieram realmente do committer. Veja <link xlink:href="http://www.nostarch.com/pgp_ml.htm">PGP &amp; GPG: Email for the Practical Paranoid by Michael Lucas</link> e <link xlink:href="http://en.wikipedia.org/wiki/Pretty_Good_Privacy"/> para maiores informações.</para>

    <sect2 xml:id="pgpkeys-creating">
      <title>Criando uma chave</title>

      <para>As chaves existentes podem ser usadas, mas elas devem ser obtidas com o <filename>doc/head/share/pgpkeys/checkkey.sh</filename> primeiro.</para>

      <para>Para quem ainda não tem uma chave Open<acronym>PGP</acronym>, ou precisa de uma nova chave para atender aos requisitos de segurança do FreeBSD, nesta seção iremos mostrar como gerar uma.</para>

      <procedure xml:id="pgpkeys-create-steps">

	<step>
	  <para>Instale o  <filename role="package">security/gnupg</filename>. Digite estas linhas no <filename>~/.gnupg/gpg.conf</filename> para definir padrões mínimos aceitáveis:</para>

	  <programlisting>fixed-list-mode
keyid-format 0xlong
personal-digest-preferences SHA512 SHA384 SHA256 SHA224
default-preference-list SHA512 SHA384 SHA256 SHA224 AES256 AES192 AES CAST5 BZIP2 ZLIB ZIP Uncompressed
use-agent
verify-options show-uid-validity
list-options show-uid-validity
sig-notation issuer-fpr@notations.openpgp.fifthhorseman.net=%g
cert-digest-algo SHA512</programlisting>
	</step>

	<step>
	  <para>Gere uma chave:</para>

	  <screen><prompt>%</prompt> <userinput>gpg --full-gen-key</userinput>
gpg (GnuPG) 2.1.8; Copyright (C) 2015 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Warning: using insecure memory!
Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection? <userinput>1</userinput>
RSA keys may be between 1024 and 4096 bits long.
What keysize do you want? (2048) <userinput>2048</userinput>  <co xml:id="co-pgp-bits"/>
Requested keysize is 2048 bits
Please specify how long the key should be valid.
         0 = key does not expire
      &lt;n&gt;  = key expires in n days
      &lt;n&gt;w = key expires in n weeks
      &lt;n&gt;m = key expires in n months
      &lt;n&gt;y = key expires in n years
Key is valid for? (0) <userinput>3y</userinput>  <co xml:id="co-pgp-expire"/>
Key expires at Wed Nov  4 17:20:20 2015 MST
Is this correct? (y/N) <userinput>y</userinput>

GnuPG needs to construct a user ID to identify your key.

Real name: <userinput><replaceable>Chucky Daemon</replaceable></userinput> <co xml:id="co-pgp-realname"/>
Email address: <userinput><replaceable>notreal@example.com</replaceable></userinput>
Comment:
You selected this USER-ID:
    "<replaceable>Chucky Daemon &lt;notreal@example.com&gt;</replaceable>"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? <userinput>o</userinput>
You need a Passphrase to protect your secret key.</screen>

	  <calloutlist>
	    <callout arearefs="co-pgp-bits">
	      <para>Chaves de 2048-bit com uma expiração de 3 anos proveem uma proteção adequada nos dias de hoje (2013-12). O artigo <link xlink:href="http://danielpocock.com/rsa-key-sizes-2048-or-4096-bits"/> descreve a situação em mais detalhes.</para>
	    </callout>

	    <callout arearefs="co-pgp-expire">
	      <para>Três anos é um tempo de vida para a chave que é curto o suficiente para tornar obsoletas as chaves enfraquecidas pelo avanço do poder computacional, mas é tempo suficiente para reduzir os principais problemas de gerenciamento.</para>
	    </callout>

	    <callout arearefs="co-pgp-realname">
	      <para>Use o seu nome real, preferencialmente o mesmo que consta do seu documento de identificação (<acronym>ID</acronym>) emitido pelo seu governo para tornar mais fácil para as outras pessoas confirmarem sua identidade. Você pode inserir um texto adicional para ajudar outras pessoas a identificar você na seção <literal>Comment</literal>.</para>
	    </callout>
	  </calloutlist>

	  <para>Depois que o endereço de e-mail é inserido, uma senha é solicitada. Os métodos de criação de uma frase secreta segura são controversos. Em vez de sugerir um único caminho, aqui estão alguns links para sites que descrevem vários métodos:<link xlink:href="http://world.std.com/~reinhold/diceware.html"/>, <link xlink:href="http://www.iusmentis.com/security/passphrasefaq/"/>, <link xlink:href="http://xkcd.com/936/"/> e <link xlink:href="http://en.wikipedia.org/wiki/Passphrase"/>.</para>
	</step>
      </procedure>

      <para>Proteja a chave privada e a frase secreta. Se a chave privada ou a frase secreta pode ter sido comprometida ou exposta, notifique imediatamente 
 <email>accounts@FreeBSD.org</email> e revogue a chave.</para>

      <para>O processo para commit da nova chave é mostrado em <xref linkend="commit-steps"/>.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="kerberos-ldap">
    <title>Kerberos e LDAP Web Password para o cluster do FreeBSD</title>

    <para>O cluster do FreeBSD requer uma senha do Kerberos para acessar certos serviços. A senha do Kerberos também serve como a senha LDAP para a web, já que o LDAP faz um proxy para o Kerberos no cluster. Alguns dos serviços que exigem isso incluem:</para>

    <itemizedlist>
      <listitem>
	<para><link xlink:href="https://bugs.freebsd.org/bugzilla">Bugzilla</link></para>
      </listitem>
      <listitem>
	<para><link xlink:href="https://ci.freebsd.org">Jenkins</link></para>
      </listitem>
    </itemizedlist>

    <para>Para criar uma nova conta do Kerberos no cluster do FreeBSD, ou para redefinir uma senha do Kerberos para uma conta existente usando um gerador de senha aleatória:</para>

    <screen><prompt>%</prompt> <userinput>ssh kpasswd.freebsd.org</userinput></screen>

    <note>
      <para>Isto deve ser feito a partir de uma máquina fora do cluster do FreeBSD.org.</para>
    </note>

    <para>Uma senha do Kerberos também pode ser definida manualmente, para isto logue no servidor <systemitem class="fqdomainname">freefall.FreeBSD.org</systemitem> e execute:</para>

    <screen><prompt>%</prompt> <userinput>kpasswd</userinput></screen>

    <note>
      <para>A menos que os serviços autenticados por Kerberos do cluster do FreeBSD.org tenham sido usados anteriormente, o erro <errorname>Client unknown</errorname>será exibido. Este erro significa que o método <command>ssh kpasswd.freebsd.org</command> mostrado acima deve ser usado primeiro para inicializar a conta Kerberos.</para>
    </note>

  </sect1>

  <sect1 xml:id="committer.types">
    <title>Tipos de Commit Bits</title>

    <para>O repositório do FreeBSD possui um número de componentes que, quando combinados, suportam os fontes básicos do sistema operacional, a documentação, a infraestrutura de ports de aplicativos de terceiros e vários utilitários mantidos. Quando os commit bits do FreeBSD são alocados, as áreas da árvore onde o bit pode ser usado são especificadas. Geralmente, as áreas associadas a um bit refletem quem autorizou a alocação do bit de commit. Áreas adicionais de autoridade podem ser adicionadas em uma data posterior: quando isso ocorre, o committer deve seguir procedimentos normais de atribuição de bits de confirmação para essa área da árvore, buscando a aprovação da entidade apropriada e possivelmente obtendo um mentor para essa área por algum período de tempo.</para>

    <informaltable frame="none" pgwide="1">
      <tgroup cols="3">
	<tbody>
	  <row>
	    <entry><emphasis>Tipo de Committer</emphasis></entry>
	    <entry><emphasis>Responsável</emphasis></entry>
	    <entry><emphasis>Componentes da Árvore</emphasis></entry>
	  </row>

	  <row>
	    <entry>src</entry>
	    <entry>core@</entry>
	    <entry>src/, doc/ sujeito a revisão apropriada</entry>
	  </row>

	  <row>
	    <entry>doc</entry>
	    <entry>doceng@</entry>
	    <entry>doc/, ports/, src/ documentação</entry>
	  </row>

	  <row>
	    <entry>ports</entry>
	    <entry>portmgr@</entry>
	    <entry>ports/</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <para>Os commit bits alocados antes do desenvolvimento da noção de áreas de autoridade podem ser apropriados para uso em muitas partes da árvore. No entanto, o senso comum determina que um committer que não tenha trabalhado anteriormente em uma área da árvore busque alguém para realizar uma revisão antes de realizar o commit, busque a aprovação da parte responsável apropriada e/ou trabalhe com um mentor. Uma vez que as regras relativas à manutenção de código diferem por área da árvore, isso é tanto para o benefício do committer trabalhando em uma área de menos familiar quanto para as outras pessoas trabalhando na árvore.</para>

    <para>Committers são encorajados a buscar revisão do seu trabalho como parte do processo normal de desenvolvimento, independentemente da área da árvore onde o trabalho está ocorrendo.</para>

    <sect2>
      <title>Política para atividade de Committers em outras árvores</title>

      <itemizedlist>
	<listitem>
	  <para>Todos os committers podem modificar <filename>base/head/share/misc/committers-*.dot</filename>, <filename>base/head/usr.bin/calendar/calendars/calendar.freebsd</filename>, e <filename>ports/head/astro/xearth/files</filename>.</para>
	</listitem>

	<listitem>
	  <para>os doc committers podem efetuar commits de alterações na documentação sob  <filename>src</filename>, tal como man pages, READMEs, banco de dados do fortune, arquivos de calendários, e comentar correções sem aprovação de um src committer, sujeito aos cuidados normais necessários para um commit seguro.</para>
	</listitem>

	<listitem>
	  <para>Qualquer committer pode fazer alterações em qualquer outra árvore com um "Approved by" de um committer que não esteja sob mentoria e que tenha o bit apropriado.</para>
	</listitem>

	<listitem>
	  <para>Os committers podem adquirir um bit adicional pelo processo usual de encontrar um mentor que os proporá ao core, doceng ou portmgr, conforme apropriado. Quando aprovados, eles serão adicionados ao 'access' e o período normal de mentoria irá ocorrer, o que envolverá a continuidade do uso do <quote>Approved by</quote> por um período.</para>
	</listitem>

	<listitem>
	  <para>O "Approved by" só é aceitável vindo de src committers que não estejam sob mentoria  - os committers mentorados podem fornecer um "Reviewed by" mas não um "Approved by".</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xml:id="subversion-primer">
    <title>Subversion Primer</title>

    <para>Supõe-se que novos committers já estejam familiarizados com a operação básica do Subversion. Se não, comece lendo o <link xlink:href="http://svnbook.red-bean.com/">Subversion Book</link>.</para>

    <sect2 xml:id="svn-intro">
      <title>Introdução</title>

      <para>O repositório de código fonte do FreeBSD mudou do <acronym>CVS</acronym> para o Subversion em 31 de maio de 2008. O primeiro commit real no <acronym>SVN</acronym> é o <emphasis>r179447</emphasis>.</para>

      <para>O repositório do FreeBSD <literal>doc/www</literal> foi migrado do  <acronym>CVS</acronym> para o Subversion em 19 de Maio de 2012. O primeiro commit real no <acronym>SVN</acronym> foi o <emphasis>r38821</emphasis>.</para>

      <para>O repositório da coleção de <literal>ports</literal> do FreeBSD  foi migrado do   <acronym>CVS</acronym> para o Subversion em 14 de Julho 2012. O primeiro commit real no <acronym>SVN</acronym> foi o <emphasis>r300894</emphasis>.</para>

      <para>O Subversion pode ser instalado a partir da Coleção de Ports do FreeBSD, executando o comando:</para>

      <screen><prompt>#</prompt> <userinput>pkg install subversion</userinput></screen>

    </sect2>

    <sect2 xml:id="svn-getting-started">
      <title>Primeiros Passos</title>

      <para>Existem algumas maneiras de obter uma cópia de trabalho da árvore do Subversion. Esta seção irá explicá-las.</para>

      <sect3 xml:id="svn-getting-started-direct-checkout">
	<title>Checkout direto</title>

	<para>O primeiro é fazer check-out diretamente do repositório principal. Para a árvore <literal>src</literal>, use:</para>

	<screen><prompt>%</prompt> <userinput>svn checkout svn+ssh://repo.freebsd.org/base/head /usr/src</userinput></screen>

	<para>Para a árvore <literal>doc</literal>, use:</para>

	<screen><prompt>%</prompt> <userinput>svn checkout svn+ssh://repo.freebsd.org/doc/head /usr/doc</userinput></screen>

	<para>Para a árvore da coleção de <literal>ports</literal>, use:</para>

	<screen><prompt>%</prompt> <userinput>svn checkout svn+ssh://repo.freebsd.org/ports/head /usr/ports</userinput></screen>

	<note>
	  <para>Embora os exemplos restantes neste documento tenham sido escritos tendo o workflow de trabalho com a árvore <literal>src</literal> em mente, os conceitos básicos são os mesmos para se trabalhar com o <literal>doc</literal> e com a árvore dos <literal>ports</literal>. Os ports relacionados às operações do Subversion estão listados em <xref linkend="ports"/>.</para>
	</note>

	<para>O comando acima irá fazer o checkout da árvore de código-fonte <literal>CURRENT</literal>  como <filename><replaceable>/usr/src/</replaceable></filename>, o qual pode ser qualquer diretório de destino no sistema de arquivos local. Omitir o argumento final desse comando faz com que a cópia de trabalho, neste caso, seja nominada como <quote>head</quote>, mas ela poderá ser renomeada com segurança.</para>

	<para>O <literal>svn+ssh</literal> significa que o protocolo <acronym>SVN</acronym> será tunelado sobre o <acronym>SSH</acronym>.  O nome do servidor é <literal>repo.freebsd.org</literal>, e <literal>base</literal> é o caminho para o repositório, e <literal>head</literal> é o subdiretório dentro do repositório.</para>

	<para>Se seu nome de login no projeto FreeBSD for diferente do nome de login usado na sua  máquina local, inclua-o na <acronym>URL</acronym> (por exemplo <literal>svn+ssh://jarjar@repo.freebsd.org/base/head</literal>) ou adicione uma entrada no arquivo <filename>~/.ssh/config</filename> no formato:</para>

	<programlisting>Host repo.freebsd.org
	User jarjar</programlisting>

	<para>Este é o método mais simples, mas é difícil dizer quanta carga ele irá colocar no repositório.</para>

	<note>
	  <para>O <command>svn diff</command> não requer acesso ao servidor pois o <acronym>SVN</acronym> armazena uma cópia de referência de todos os arquivos na cópia de trabalho. Isto, no entanto, significa que as cópias de trabalho do Subversion são muito grandes em tamanho.</para>
	</note>
      </sect3>

      <sect3 xml:id="svn-getting-started-base-layout">
	<title>Branches <literal>RELENG_*</literal> e Layout Geral</title>

	<para>No <literal>svn+ssh://repo.freebsd.org/base</literal>, <emphasis>base</emphasis> refere-se à árvore de código fonte. Similarmente, <emphasis>ports</emphasis> refere-se à árvore de ports e assim por diante. Estes são repositórios separados com suas próprias seqüências de números de mudança, controles de acesso e email de commit.</para>

	<para>Para o repositório base, HEAD refere-se a árvore -CURRENT. Por exemplo, <filename>head/bin/ls</filename> é o que entraria como <filename>/usr/src/bin/ls</filename> em uma release. Alguns locais importantes são:</para>

	<itemizedlist>
	  <listitem>
	    <para><emphasis>/head/</emphasis> que corresponde a <literal>HEAD</literal>, também conhecido como <literal>-CURRENT</literal>.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/stable/<replaceable>n</replaceable></emphasis> que corresponde a <literal>RELENG_<replaceable>n</replaceable></literal>.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/releng/<replaceable>n.n</replaceable></emphasis> que corresponde a <literal>RELENG_<replaceable>n_n</replaceable></literal>.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/release/<replaceable>n.n.n</replaceable></emphasis> que corresponde a <literal>RELENG_<replaceable>n_n_n</replaceable>_RELEASE</literal>.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/vendor*</emphasis> é uma área de trabalho para importar branches de vendors. Este diretório em si não contém branches, no entanto, os seus subdiretórios contém. Isso contrasta com os diretórios <emphasis>stable</emphasis>, <emphasis>releng</emphasis> e <emphasis>release</emphasis>.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/projects</emphasis> e <emphasis>/user</emphasis> são áreas de trabalho de branch. Como acima, o diretório <emphasis>/user</emphasis> não contém branches em si.</para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xml:id="svn-getting-started-doc-layout">
	<title>Branches e Layout do Projeto de Documentação do FreeBSD</title>

	<para>no <literal>svn+ssh://repo.freebsd.org/doc</literal>, <emphasis>doc</emphasis> refere-se à raiz do repositório da árvore de código fonte.</para>

	<para>Em geral, a maior parte do trabalho do Projeto de Documentação do FreeBSD será feito dentro do branch <filename>head/</filename> da árvore com os arquivos fontes da documentação.</para>

	<para>A documentação do FreeBSD é escrita e/ou traduzida para vários idiomas, cada um em um diretório separado no branch <filename>head/</filename>.</para>

	<para>Cada conjunto de tradução contém vários subdiretórios para as várias partes do Projeto de Documentação do FreeBSD. Alguns diretórios notáveis são:</para>

	<itemizedlist>
	  <listitem>
	    <para><emphasis>/articles/</emphasis> contém o código fonte para artigos escritos por vários colaboradores do FreeBSD.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/books/</emphasis> contém o código fonte para os diferentes livros, como o Handbook do FreeBSD.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/htdocs/</emphasis> contém o código-fonte do website do FreeBSD.</para>
	  </listitem>
	</itemizedlist>
      </sect3>

      <sect3 xml:id="svn-getting-started-ports-layout">
	<title>Branches e Layout da Árvore de Ports do FreeBSD</title>

	<para>No <literal>svn+ssh: //repo.freebsd.org/ports</literal>, <emphasis>ports</emphasis> refere-se à raiz do repositório da árvore de ports.</para>

	<para>Em geral, a maior parte do trabalho na coleção de ports do FreeBSD será feito dentro da branch <filename>head/</filename> da árvore de ports, que é a árvore de ports real usada para instalar software. Alguns outros locais importantes são:</para>

	<itemizedlist>
	  <listitem>
	    <para><emphasis>/branches/RELENG_<replaceable>n_n_n</replaceable></emphasis> que corresponde a <literal>RELENG_<replaceable>n_n_n</replaceable></literal> e é usado para mesclar atualizações de segurança em preparação para uma release.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/tags/RELEASE_<replaceable>n_n_n</replaceable></emphasis> que corresponde a <literal>RELEASE_<replaceable>n_n_n</replaceable></literal> e representa uma tag de release da árvore de ports.</para>
	  </listitem>

	  <listitem>
	    <para><emphasis>/tags/RELEASE_<replaceable>n</replaceable>_EOL</emphasis> representa o tag de end of life de um branch específico do FreeBSD.</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>

    <sect2 xml:id="svn-daily-use">
      <title>Uso diário</title>

      <para>Esta seção explicará como realizar operações comuns do dia-a-dia com o Subversion.</para>

      <sect3 xml:id="svn-daily-use-help">
	<title>Ajuda</title>

	<para>O <acronym>SVN</acronym> traz em si uma documentação interna de ajuda. Ela pode ser acessada digitando:</para>

	<screen><prompt>%</prompt> <userinput>svn help</userinput></screen>

	<para>Informações adicionais podem ser encontradas no <link xlink:href="http://svnbook.red-bean.com/">Subversion Book</link>.</para>
      </sect3>

      <sect3 xml:id="svn-daily-use-checkout">
	<title>Checkout</title>

	<para>Como visto anteriormente, para fazer o checkout da branch principal (head) do FreeBSD:</para>

	<screen><prompt>%</prompt> <userinput>svn checkout svn+ssh://repo.freebsd.org/base/head /usr/src</userinput></screen>

	<para>Em algum momento, provavelmente será útil ter uma copia de trabalho mais do que apenas do <literal>HEAD</literal>, por exemplo, ao mesclar as alterações para stable/7. Portanto, pode ser útil ter uma verificação parcial da árvore completa (um check-out completo seria muito doloroso).</para>

	<para>Para fazer isso, primeiro confira a raiz do repositório:</para>

	<screen><prompt>%</prompt> <userinput>svn checkout --depth=immediates svn+ssh://repo.freebsd.org/base</userinput></screen>

	<para>Isso vai obter o <literal>base</literal> com todos os arquivos que ele contém (no momento da escrita, apenas o <filename>ROADMAP.txt</filename>) e subdiretórios vazios para <literal>head</literal>, <literal>stable</literal>, <literal>vendor</literal> e assim por diante.</para>

	<para>É possível expandir a cópia de trabalho. Basta alterar a profundidade dos vários subdiretórios:</para>

	<screen><prompt>%</prompt> <userinput>svn up --set-depth=infinity base/head</userinput>
<prompt>%</prompt> <userinput>svn up --set-depth=immediates base/release base/releng base/stable</userinput></screen>

	<para>O comando acima irá baixar uma cópia completa do <literal>head</literal>, além de cópias vazias de cada tag de <literal>release</literal>, de cada branch de <literal>releng</literal>, e de cada branch <literal>stable</literal>.</para>

	<para>Se numa data posterior você tiver necessidade de mesclar algo, por exemplo, com a <literal>7-STABLE</literal>, expanda a cópia de trabalho:</para>

	<screen><prompt>%</prompt> <userinput>svn up --set-depth=infinity base/stable/7</userinput></screen>

	<para>As subárvores não precisam ser expandidas completamente. Por exemplo, para expandir apenas o <literal>stable/7/sys</literal> e depois expandir o resto do <literal>stable/7</literal>:</para>

	<screen><prompt>%</prompt> <userinput>svn up --set-depth=infinity base/stable/7/sys</userinput>
<prompt>%</prompt> <userinput>svn up --set-depth=infinity base/stable/7</userinput></screen>

	<para>Atualizar a árvore com <command>svn update</command> irá apenas atualizar o que foi pedido anteriormente (neste caso, <literal>head</literal> e <literal>stable/7</literal>), ele não irá puxar a árvore inteira.</para>
      </sect3>

      <sect3 xml:id="svn-daily-use-anonymous-checkout">
	<title>Checkout Anonimo</title>

	<para>É possível efetuar o checkout anonimo o repositório Subversion do FreeBSD. Isso dará acesso a uma árvore somente leitura que pode ser atualizada, mas que não poderá ser enviada de volta para o repositório principal por meio de um commit. Para fazer isso, use:</para>

	<screen><prompt>%</prompt> <userinput>svn co https://svn.FreeBSD.org/base/head /usr/src</userinput></screen>

	<para>Mais detalhes sobre o uso do Subversion podem ser encontrados em<link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/handbook/svn.html">Usando o Subversion</link>.</para>
      </sect3>

      <sect3 xml:id="svn-daily-use-updating-the-tree">
	<title>Atualizando a Árvore</title>

	<para>Para atualizar uma cópia de trabalho para a revisão mais recente ou uma revisão específica:</para>

	<screen><prompt>%</prompt> <userinput>svn update</userinput>
<prompt>%</prompt> <userinput>svn update -<replaceable>r12345</replaceable></userinput></screen>
      </sect3>

      <sect3 xml:id="svn-daily-use-status">
	<title>Status</title>

	<para>Para ver as alterações locais que foram feitas na cópia de trabalho:</para>

	<screen><prompt>%</prompt> <userinput>svn status</userinput></screen>

	<para>Para mostrar alterações locais e arquivos que estão desatualizados, execute:</para>

	<screen><prompt>%</prompt> <userinput>svn status --show-updates</userinput></screen>
      </sect3>

      <sect3 xml:id="svn-daily-use-editing-and-committing">
	<title>Editando e efetuando o commit</title>

	<para>O <acronym>SVN</acronym> não precisa ser avisado com antecedência sobre a edição de arquivos.</para>

	<para>Para efetuar o commit de todas as alterações no diretório atual e em todos os seus  subdiretórios:</para>

	<screen><prompt>%</prompt> <userinput>svn commit</userinput></screen>

	<para>Para efetuar o commit de todas as alterações, por exemplo, nos arquivos <filename><replaceable>lib/libfetch/</replaceable></filename> e <filename><replaceable>usr/bin/fetch/</replaceable></filename> em uma única operação, execute:</para>

	<screen><prompt>%</prompt> <userinput>svn commit <replaceable>lib/libfetch</replaceable> <replaceable>usr/bin/fetch</replaceable></userinput></screen>

	<para>Também existe um wrapper de commit para a árvore de ports para manipular as propriedades e para verificar a sanidade das mudanças:</para>

	<screen><prompt>%</prompt> <userinput>/usr/ports/Tools/scripts/psvn commit</userinput></screen>
      </sect3>

      <sect3 xml:id="svn-daily-use-adding-and-removing">
	<title>Adicionando e Removendo Arquivos</title>

	<note>
	  <para>Antes de adicionar arquivos, obtenha uma cópia do <link xlink:href="https://people.FreeBSD.org/~peter/auto-props.txt">auto-props.txt</link> (há também um <link xlink:href="https://people.FreeBSD.org/~beat/cvs2svn/auto-props.txt"> versão específica da árvore de ports</link>) e adicione-o ao <filename>~/.subversion/config</filename> seguindo as instruções contidas no arquivo. Se você adicionou algo antes de ler isto, use o comando <command>svn rm --keep-local</command> para apenas os arquivos adicionados, corrija seu arquivo de configuração e adicione-os novamente. O arquivo de configuração inicial é criado quando você executa um comando svn pela primeira vez, até mesmo algo tão simples quanto <command>svn help</command>.</para>
	</note>

	<para>Os arquivos são adicionados a um <acronym>SVN</acronym> repositório com <command>svn add</command>. Para adicionar um arquivo chamado <emphasis>foo</emphasis>, edite-o e depois execute:</para>

	<screen><prompt>%</prompt> <userinput>svn add <replaceable>foo</replaceable></userinput></screen>

	<note>
	  <para>A maioria dos novos arquivos fonte deve incluir uma string <literal>$FreeBSD$</literal> próxima ao início do arquivo. Ao efetuar o commit, o <command>svn</command> expandirá a string <literal>$FreeBSD$</literal>, adicionando o caminho do arquivo, o número da revisão, a data e a hora da confirmação e o nome de usuário do committer. Arquivos que não podem ser modificados podem ser enviados sem a string <literal>$FreeBSD$</literal>.</para>
	</note>

	<para>Os arquivos podem ser removidos com <command>svn remove</command>:</para>

	<screen><prompt>%</prompt> <userinput>svn remove <replaceable>foo</replaceable></userinput></screen>

	<para>O subversion não requer a exclusão do arquivo antes de usaramos o comando  <command>svn rm</command> e, de fato, ele reclama se isso acontecer.</para>

	<para>É possível adicionar diretórios com <command>svn add</command>:</para>

	<screen><prompt>%</prompt> <userinput>mkdir <replaceable>bar</replaceable></userinput>
<prompt>%</prompt> <userinput>svn add <replaceable>bar</replaceable></userinput></screen>

	<para>Apesar que o <command>svn mkdir</command> torna isso mais fácil, combinando a criação do diretório e a adição dele:</para>

	<screen><prompt>%</prompt> <userinput>svn mkdir <replaceable>bar</replaceable></userinput></screen>

	<para>Como arquivos, os diretórios são removidos com <command>svn rm</command>. Não existe um comando separado especificamente para remover diretórios.</para>

	<screen><prompt>%</prompt> <userinput>svn rm <replaceable>bar</replaceable></userinput></screen>
      </sect3>

      <sect3 xml:id="svn-daily-use-copying-and-moving">
	<title>Copiando e Movendo Arquivos</title>

	<para>Este comando cria uma cópia do arquivo <filename>foo.c</filename> nomeado <filename>bar.c</filename>, com o novo arquivo também sob controle de versão e com o histórico completo de <filename>foo.c</filename>:</para>

	<screen><prompt>%</prompt> <userinput>svn copy <replaceable>foo.c</replaceable> <replaceable>bar.c</replaceable></userinput></screen>

	<para>Geralmente é preferível copiar desta forma ao invés de copiar o arquivo com comando <command>cp</command> e adicionando-o ao repositório com <command>svn add</command> porque desta forma o novo arquivo não herda a história do original.</para>

	<para>Para mover e renomear um arquivo:</para>

	<screen><prompt>%</prompt> <userinput>svn move <replaceable>foo.c</replaceable> <replaceable>bar.c</replaceable></userinput></screen>
      </sect3>

      <sect3 xml:id="svn-daily-use-log-and-annotate">
	<title>Logs e Anotações</title>

	<para>O <command>svn log</command> mostra revisões e mensagens de commit, as mais recentes são exibidas primeiro, para arquivos ou diretórios. Quando usado em um diretório, todas as revisões que afetaram o diretório e os arquivos nesse diretório são mostradas.</para>

	<para>O <command>svn annotate</command> , ou igualmente o <command>svn praise</command> ou <command>svn blame</command>, mostra o número de revisão mais recente e quem fez o commit dessa revisão para cada linha de um arquivo.</para>
      </sect3>

      <sect3 xml:id="svn-daily-use-diffs">
	<title>Diffs</title>

	<para>O <command>svn diff</command> exibe alterações na cópia de trabalho. Diffs gerado por <acronym>SVN</acronym> são unificados e incluem novos arquivos por padrão na saída do diff.</para>

	<para>O <command>svn diff</command> pode mostrar as mudanças entre duas revisões do mesmo arquivo:</para>

	<screen><prompt>%</prompt> <userinput>svn diff -r179453:179454 ROADMAP.txt</userinput></screen>

	<para>Ele também pode mostrar todas as alterações para um changeset específico. Este comando mostra quais alterações foram feitas no diretório atual e em todos os subdiretórios do changeset 179454:</para>

	<screen><prompt>%</prompt> <userinput>svn diff -c179454 .</userinput></screen>
      </sect3>

      <sect3 xml:id="svn-daily-use-reverting">
	<title>Revertendo</title>

	<para>Mudanças locais (incluindo adições e deleções) podem ser revertidas  usando <command>svn revert</command>. Ele não atualiza arquivos desatualizados, apenas os substitui por cópias originais da versão original.</para>
      </sect3>

      <sect3 xml:id="svn-daily-use-conflicts">
	<title>Conflitos</title>

	<para>Se um <command>svn update</command> resultou em um conflito de mesclagem, o Subversion irá lembrar quais arquivos têm conflitos e se recusará a fazer o commit de quaisquer alterações nesses arquivos até que seja explicitamente informado que os conflitos foram resolvidos. O procedimento simples, ainda não obsoleto, é:</para>

	<screen><prompt>%</prompt> <userinput>svn resolved <replaceable>foo</replaceable></userinput></screen>

	<para>No entanto, o procedimento preferido é:</para>

	<screen><prompt>%</prompt> <userinput>svn resolve --accept=working <replaceable>foo</replaceable></userinput></screen>

	<para>Os dois exemplos são equivalentes. Os valores possíveis para <literal>--accept</literal> são:</para>

	<itemizedlist>
	  <listitem>
	    <para><literal>working</literal>: use a versão em seu diretório de trabalho (a qual se presume que foi editada para resolver os conflitos).</para>
	  </listitem>

	  <listitem>
	    <para><literal>base</literal>: usar uma cópia original da versão que você tinha antes do <command>svn update</command>, descartando suas próprias alterações, as mudanças conflitantes e possivelmente outras mudanças intervenientes também.</para>
	  </listitem>

	  <listitem>
	    <para><literal>mine-full</literal>: use o que você tinha antes do <command>svn update</command>, incluindo suas próprias mudanças, mas descartando as mudanças conflitantes, e possivelmente outras mudanças intervenientes também.</para>
	  </listitem>

	  <listitem>
	    <para><literal>theirs-full</literal>: use a versão que foi recuperada quando você fez o <command>svn update</command>, descartando as suas próprias mudanças.</para>
	  </listitem>
	</itemizedlist>
      </sect3>
    </sect2>

    <sect2>
      <title>Uso Avançado</title>

      <sect3 xml:id="svn-advanced-use-sparse-checkouts">
	<title>Checkouts dispersos</title>

	<para>O <acronym>SVN</acronym> permite <emphasis>sparse</emphasis>, ou checkouts parciais de um diretório adicionando <option>--depth</option> a um <command>svn checkout</command>.</para>

	<para>Os argumentos válidos para <option>--depth</option> são:</para>

	<itemizedlist>
	  <listitem>
	    <para><literal>empty</literal>: o próprio diretório sem qualquer conteúdo.</para>
	  </listitem>

	  <listitem>
	    <para><literal>files</literal>: o diretório e quaisquer arquivos nele contidos.</para>
	  </listitem>

	  <listitem>
	    <para><literal>immediates</literal>: o diretório e quaisquer arquivos e diretórios contidos nele, mas nenhum dos conteúdos dos subdiretórios.</para>
	  </listitem>

	  <listitem>
	    <para><literal>infinity</literal>: qualquer coisa.</para>
	  </listitem>
	</itemizedlist>

	<para>A opção <literal>--depth</literal> se aplica a muitos outros comandos, incluindo <command>svn commit</command>, <command>svn revert</command> e o <command>svn diff</command>.</para>

	<para>Como o parâmetro <literal>--depth </literal> utilizado é persistente, existe uma opção <literal>--set-depth</literal> para o <command>svn update</command> que irá mudar a profundidade selecionada. Assim, dada a cópia de trabalho produzida pelo exemplo anterior:</para>

	<screen><prompt>%</prompt> <userinput>cd <replaceable>~/freebsd</replaceable></userinput>
<prompt>%</prompt> <userinput>svn update --set-depth=immediates .</userinput></screen>

	<para>O comando acima irá popular a cópia de trabalho em <replaceable>~/freebsd</replaceable> com <filename>ROADMAP.txt</filename> e subdiretórios vazios, e nada acontecerá quando <command>svn update</command> for executado nos subdiretórios. No entanto, esse comando definirá a profundidade para <replaceable>head</replaceable> (nesse caso) como infinito e o populará totalmente:</para>

	<screen><prompt>%</prompt> <userinput>svn update --set-depth=infinity <replaceable>head</replaceable></userinput></screen>
      </sect3>

      <sect3 xml:id="svn-advanced-use-direct-operation">
	<title>Operação Direta</title>

	<para>Certas operações podem ser realizadas diretamente no repositório sem tocar na cópia de trabalho. Especificamente, isso se aplica a qualquer operação que não exija a edição de um arquivo, incluindo:</para>

	<itemizedlist>
	  <listitem>
	    <para><literal>log</literal>, <literal>diff</literal></para>
	  </listitem>

	  <listitem>
	    <para><literal>mkdir</literal></para>
	  </listitem>

	  <listitem>
	    <para><literal>remove</literal>, <literal>copy</literal>, <literal>rename</literal></para>
	  </listitem>

	  <listitem>
	    <para><literal>propset</literal>, <literal>propedit</literal>, <literal>propdel</literal></para>
	  </listitem>

	  <listitem>
	    <para><literal>merge</literal></para>
	  </listitem>
	</itemizedlist>

	<para>A criação de uma branch é muito rápida. Este comando seria usado para criar a branch <literal>RELENG_8</literal>:</para>

	<screen><prompt>%</prompt> <userinput>svn copy svn+ssh://repo.freebsd.org/base/head svn+ssh://repo.freebsd.org/base/stable/8</userinput></screen>

	<para>Isso equivale a esses comandos, que levam minutos e horas, em vez de segundos, dependendo da sua conexão de rede:</para>

	<screen><prompt>%</prompt> <userinput>svn checkout --depth=immediates svn+ssh://repo.freebsd.org/base</userinput>
<prompt>%</prompt> <userinput>cd base</userinput>
<prompt>%</prompt> <userinput>svn update --set-depth=infinity head</userinput>
<prompt>%</prompt> <userinput>svn copy head stable/8</userinput>
<prompt>%</prompt> <userinput>svn commit stable/8</userinput></screen>
      </sect3>

      <sect3 xml:id="svn-advanced-use-merging">
	<title>Mesclando com <acronym>SVN</acronym></title>

	<para>Esta seção lida com o merge de código de um branch para outro (normalmente, do head para um brach stable).</para>

	<note>
	  <para>Em todos os exemplos abaixo, <literal>$FSVN</literal> refere-se à localização do repositório Subversion do FreeBSD, <literal>svn+ssh://repo.freebsd.org/base </literal>.</para>
	</note>

	<sect4>
	  <title>Sobre o acompanhamento de mesclagem</title>

	  <para>Do ponto de vista do usuário, informações de acompanhamento de mesclagem (ou mergeinfo) são armazenadas em uma propriedade chamada <literal>svn:mergeinfo</literal>, que é uma lista separada por vírgulas de revisões e intervalos de revisões que foram mescladas. Quando definido em um arquivo, ele se aplica somente a esse arquivo. Quando definido em um diretório, ele se aplica a esse diretório e seus descendentes (arquivos e diretórios), exceto aqueles que possuem o seu próprio <literal>svn:mergeinfo</literal>.</para>

	  <para>Ele <emphasis>não</emphasis> é herdado. Por exemplo, <filename>stable/6/contrib/openpam/</filename> não herda implicitamente o mergeinfo de <filename>stable/6/</filename>, ou do <filename>stable/6/contrib/</filename>. Isso faria com que os checkouts parciais fossem difíceis de gerenciar. Em vez disso, o mergeinfo é explicitamente propagado pela árvore. Para mesclar algo em <filename>branch/foo/bar/</filename>, estas regras se aplicam:</para>

	  <orderedlist>
	    <listitem>
	      <para>Se <filename>branch/foo/bar/</filename> ainda não tiver um registro mergeinfo, mas um ancestral direto (por exemplo, <filename>branch/foo/</filename>) tem, então esse registro será propagado para abaixo até <filename>branch/foo/bar/</filename> antes que as informações sobre a mesclagem atual sejam registradas.</para>
	    </listitem>

	    <listitem>
	      <para>As informações sobre a mesclagem atual <emphasis>não</emphasis> serão propagadas para o ancestral.</para>
	    </listitem>

	    <listitem>
	      <para>Se um descendente direto de <filename>branch/foo/bar/</filename> (por exemplo, <filename>branch/foo/bar/baz/</filename>) já tiver um registro mergeinfo, as informações sobre a mesclagem atual serão propagadas para ele.</para>
	    </listitem>
	  </orderedlist>

	  <para>Se você considerar o caso em que uma revisão altera várias partes separadas da árvore (por exemplo, <filename>branch/foo/bar/</filename> e <filename>branch/foo/quux/</filename>), mas você só deseja mesclar alguns deles (por exemplo, <filename>branch/foo/bar/</filename>), você verá que essas regras fazem sentido. Se mergeinfo fosse propagado, pareceria que a revisão também foi mesclada com <filename>branch/foo/quux/</filename>, quando na verdade não foi.</para>
	</sect4>

	<sect4 xml:id="merge-source">
	  <title>Selecionando a branch de origem e de destino ao mesclar</title>

	  <para>Mesclagens para as branches <literal>stable/</literal> devem originar-se da <literal>head/</literal>. Por exemplo:</para>

	  <screen><prompt>%</prompt> svn merge -c <replaceable>r123456</replaceable> ^/head/ stable/<replaceable>11</replaceable>
<prompt>%</prompt> svn commit stable/<replaceable>11</replaceable></screen>

	  <para>Mesclagens para as branches <literal>releng/</literal> devem sempre se originar da branch <literal>stable/</literal> correspondente. Por exemplo:</para>

	  <screen><prompt>%</prompt> svn merge -c <replaceable>r123456</replaceable> ^/stable/<replaceable>11</replaceable>  releng/<replaceable>11.0</replaceable>
<prompt>%</prompt> svn commit releng/<replaceable>11.0</replaceable></screen>

	  <note>
	    <para>Os committers só podem se efetuar um commit para as branches <literal>releng/</literal> durante um ciclo de release após receber aprovação da Equipe de Engenharia de Release, após o qual somente o Security Officer pode efetuar commits para o branch <literal>releng/</literal> para um Aviso de Segurança ou Aviso de Errata.</para>
	  </note>

	  <para>Todas as mesclagens são mescladas e enviadas por commit a partir da raiz da branch. Todas as mesclagens se parecem com:</para>

	  <screen><prompt>%</prompt> svn merge -c <replaceable>r123456</replaceable> ^/head/ <replaceable>checkout</replaceable>
<prompt>%</prompt> svn commit <replaceable>checkout</replaceable></screen>

	  <para>Observe que <replaceable>checkout</replaceable> deve ser uma verificação completa da branch na qual a mesclagem ocorre.</para>

	  <screen><prompt>%</prompt> svn merge -c <replaceable>r123456</replaceable> ^/stable/<replaceable>10</replaceable> releng/<replaceable>10.0</replaceable></screen>
	</sect4>

	<sect4>
	  <title>Preparando o Alvo de Mesclagem (Merge Target)</title>

	  <para>Devido aos problemas de propagação do mergeinfo descritos anteriormente, é muito importante nunca mesclar as alterações em uma cópia de trabalho esparsa. Sempre use um checkout completo do branch que está sendo mesclado. Por exemplo, ao mesclar de HEAD para 7, use um checkout completo de stable/7:</para>

	  <screen><prompt>%</prompt> <userinput>cd stable/7</userinput>
<prompt>%</prompt> <userinput>svn up --set-depth=infinity</userinput></screen>

	  <para>O diretório de destino também deve estar atualizado e não deve conter alterações que ainda não foram enviadas por commit ou arquivos perdidos.</para>
	</sect4>

	<sect4>
	  <title>Identificando Revisões</title>

	  <para>Identificar revisões a serem mescladas é uma obrigação. Se o alvo já tiver mergeinfo completo, solicite uma lista para o <acronym>SVN</acronym>:</para>

	  <screen><prompt>%</prompt> <userinput>cd stable/6/contrib/openpam</userinput>
<prompt>%</prompt> <userinput>svn mergeinfo --show-revs=eligible $FSVN/head/contrib/openpam</userinput></screen>

	  <para>Se o destino não tiver mergeinfo completo, verifique o log da origem de mesclagem.</para>
	</sect4>

	<sect4>
	  <title>Mesclando</title>

	  <para>Agora vamos começar a mesclar!</para>

	  <sect5>
	    <title>Os princípios</title>

	    <para>Por exemplo, para mesclar:</para>

	    <itemizedlist>
	      <listitem>
		<para>revisão <literal>$R</literal></para>
	      </listitem>

	      <listitem>
		<para>no diretório $target na branch stable $B</para>
	      </listitem>

	      <listitem>
		<para>a partir do diretório $source no head</para>
	      </listitem>

	      <listitem>
		<para>$FSVN é o <literal>svn+ssh://repo.freebsd.org/base</literal></para>
	      </listitem>
	    </itemizedlist>

	    <para>Supondo que as revisões $P e $Q já tenham sido mescladas e que o diretório atual seja uma cópia de trabalho atualizada de stable/$B, a mergeinfo existente será semelhante a:</para>

	    <screen><prompt>%</prompt> <userinput>svn propget svn:mergeinfo -R $target</userinput>
$target - /head/$source:$P,$Q</screen>

	    <para>A mesclagem é feita assim:</para>

	    <screen><prompt>%</prompt> <userinput>svn merge -c$R $FSVN/head/$source $target</userinput></screen>

	    <para>É possível verificar os resultados disso com um <command>svn diff</command>.</para>

	    <para>O svn:mergeinfo agora se parece com:</para>

	    <screen><prompt>%</prompt> <userinput>svn propget svn:mergeinfo -R $target</userinput>
$target - head/$source:$P,$Q,$R</screen>

	    <para>Se os resultados não forem exatamente como os mostrados, você pode precisar de assistência antes de efetuar o commit pois erros podem ter sido cometidos, ou pode haver algo errado com o mergeinfo existente, ou pode haver um bug no Subversion.</para>
	  </sect5>

	  <sect5>
	    <title>Exemplo Prático</title>

	    <para>Como um exemplo prático, considere este cenário. As alterações no <filename>netmap.4</filename> no r238987 devem ser mescladas do CURRENT para o 9-STABLE. O arquivo reside em <filename>head/share/man/man4</filename>. De acordo com o <xref linkend="svn-advanced-use-merging"/>, também é onde devemos fazer a mesclagem. Note que neste exemplo todos os caminhos são relativos ao topo do repositório svn. Para obter mais informações sobre o layout do diretório, consulte <xref linkend="svn-getting-started-base-layout"/>.</para>

	    <para>O primeiro passo é inspecionar o mergeinfo existente.</para>

	    <screen><prompt>%</prompt> <userinput>svn propget svn:mergeinfo -R stable/9/share/man/man4</userinput></screen>

	    <para>Tome uma nota rápida de como ele se parece antes de avançar para o próximo passo; fazendo a mesclagem real:</para>

	    <screen><prompt>%</prompt> <userinput>svn merge -c r238987 svn+ssh://repo.freebsd.org/base/head/share/man/man4 stable/9/share/man/man4</userinput>
--- Merging r238987 into 'stable/9/share/man/man4':
U    stable/9/share/man/man4/netmap.4
--- Recording mergeinfo for merge of r238987 into
'stable/9/share/man/man4':
 U   stable/9/share/man/man4</screen>

	    <para>Verifique se o número de revisão da revisão mesclada foi adicionado. Quando isso for verificado, a única coisa que resta é o commit em si.</para>

	    <screen><prompt>%</prompt> <userinput>svn commit stable/9/share/man/man4</userinput></screen>
	  </sect5>
	</sect4>

	<sect4>
	  <title>Precauções antes de efetuar o commit</title>

	  <para>Como sempre, faça um build world (ou as partes apropriadas dele).</para>

	  <para>Verifique as mudanças com o <command>svn diff</command> e <command>svn stat</command>. Certifique-se de que todos os arquivos que deveriam ter sido adicionados ou excluídos foram de fato adicionados ou excluídos.</para>

	  <para>Dê uma olhada mais de perto em qualquer mudança de propriedade (marcada por um <literal>M</literal> na segunda coluna do <command>svn stat</command>). Normalmente, nenhuma propriedade svn:mergeinfo deve estar em qualquer lugar, exceto o diretório (ou diretórios) de destino.</para>

	  <para>Se algo parecer suspeito, peça ajuda.</para>
	</sect4>

	<sect4>
	  <title>Fazendo o commit</title>

	  <para>Certifique-se de efetuar o commit de um diretório de nível superior para incluir também o mergeinfo. Não especifique arquivos individuais na linha de comando. Para mais informações sobre como submeter arquivos em geral, veja a seção relevante deste manual.</para>
	</sect4>
      </sect3>

      <sect3 xml:id="svn-advanced-use-vendor-imports">
	<title>Importações de fornecedores com <acronym>SVN</acronym></title>

	<important>
	  <para>Por favor, leia toda esta seção antes de iniciar uma importação de fornecedores.</para>
	</important>

	<note>
	  <para>Os patches para o código do fornecedor se enquadram em duas categorias:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Patches do fornecedor: são patches que foram emitidos pelo fornecedor ou que foram extraídos do sistema de controle de versão do fornecedor, que abordam problemas que não podem esperar até a próxima versão do fornecedor.</para>
	    </listitem>

	    <listitem>
	      <para>Patches do FreeBSD: são patches que modificam o código do fornecedor para resolver problemas específicos do FreeBSD.</para>
	    </listitem>
	  </itemizedlist>

	  <para>A natureza de um patch determina para onde ele deve ser enviado por commit:</para>

	  <itemizedlist>
	    <listitem>
	      <para>Os patches do fornecedor devem ser enviados por commit para o branch do fornecedor e mesclados a partir dele. Se o patch resolver um problema em uma nova versão que está sendo importada atualmente, ele <emphasis>não deve</emphasis> ser enviado por commit junto com a nova versão: a versão deve ser importada e marcada primeiro, então a correção pode ser aplicada e o commit efetuado. Não há necessidade de marcar novamente as fontes do fornecedor depois de confirmar o patch.</para>
	    </listitem>

	    <listitem>
	      <para>Patches do FreeBSD são enviados diretamente para o head.</para>
	    </listitem>
	  </itemizedlist>
	</note>

	<sect4>
	  <title>Preparando a Árvore</title>

	  <para>Se estiver importando pela primeira vez após a mudança para o Subversion, é necessário achatar e limpar a árvore do fornecedor, bem como inicializar o histórico de mesclagem na árvore principal.</para>

	  <sect5>
	    <title>Achatamento</title>

	    <para>Durante a conversão do <acronym>CVS</acronym> para o Subversion, as branches do fornecedor foram importadas com o mesmo layout da árvore principal. Isso significa que as fontes do fornecedor <literal>pf</literal> foram armazenadas originalmente em <filename>vendor/pf/dist/contrib/pf</filename>. O código fonte do fornecedor fica melhor se armazenado diretamente em <filename>vendor/pf/dist</filename>.</para>

	    <para>Para achatar a árvore do <literal>pf</literal>:</para>

	    <screen><prompt>%</prompt> <userinput>cd <replaceable>vendor/pf/dist/contrib/pf</replaceable></userinput>
<prompt>%</prompt> <userinput>svn mv $(svn list) ../..</userinput>
<prompt>%</prompt> <userinput>cd ../..</userinput>
<prompt>%</prompt> <userinput>svn rm contrib</userinput>
<prompt>%</prompt> <userinput>svn propdel -R svn:mergeinfo .</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>

	    <para>O bit <literal>propdel</literal> é necessário porque, começando com 1.5, o Subversion adicionará <literal>svn:mergeinfo</literal> em qualquer diretório que seja copiado ou movido. Nesse caso, como nada está sendo mesclado da árvore excluída, eles apenas atrapalham.</para>

	    <para>As tags também podem ser achatadas (3, 4, 3.5 etc.); o procedimento é exatamente o mesmo, mudando apenas <literal>dist</literal> para <literal>3.5</literal> ou similar, e aguardando para executar o <command>svn commit </command> apenas no final do processo.</para>
	  </sect5>

	  <sect5>
	    <title>Limpando</title>

	    <para>A árvore <literal>dist</literal> pode ser limpa conforme necessário. A desativação da expansão de palavras-chave é recomendada, pois não faz sentido no código do fornecedor não modificado e, em alguns casos, pode até mesmo ser prejudicial. O <application>OpenSSH</application>, por exemplo, inclui dois arquivos que se originaram do FreeBSD e ainda contêm as tags da versão original. Para fazer isso:</para>

	    <screen><prompt>%</prompt> <userinput>svn propdel svn:keywords -R .</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>
	  </sect5>

	  <sect5>
	    <title>Bootstrapping o historico de mesclagem</title>

	    <para>Se estiver importando pela primeira vez após a mudança para o Subversion, faça o bootstrap do <literal>svn:mergeinfo</literal> no diretório de destino da árvore principal para a revisão que corresponde à última alteração relacionada à árvore do fornecedor, antes de importar novos fontes:</para>

	    <screen><prompt>%</prompt> <userinput>cd <replaceable>head/contrib/pf</replaceable></userinput>
<prompt>%</prompt> <userinput>svn merge --record-only svn+ssh://repo.freebsd.org/base/<replaceable>vendor/pf/dist@180876</replaceable> .</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>
	  </sect5>
	</sect4>

	<sect4>
	  <title>Importando Novas Fontes</title>

	  <para>Com dois commits - um para a importação em si e outro para a tag - essa etapa pode ser opcionalmente repetida para cada release upstream entre a última importação e a importação atual.</para>

	  <sect5>
	    <title>Preparando os fontes do fornecedor</title>

	    <para>O Subversion é capaz de armazenar uma distribuição completa na árvore do fornecedor. Portanto, importe tudo, mas mescle apenas o que é necessário.</para>

	    <para>Um <command>svn add</command> é necessário para adicionar quaisquer arquivos que foram adicionados desde a última importação do fornecedor, e o <command>svn rm</command> é necessário para remover todos os que foram removidos desde então. Recomenda-se a preparação de listas ordenadas do conteúdo da árvore do fornecedor e das fontes que serão importadas, para facilitar o processo.</para>

	    <screen><prompt>%</prompt> <userinput>cd <replaceable>vendor/pf/dist</replaceable></userinput>
<prompt>%</prompt> <userinput>svn list -R | grep -v '/$' | sort &gt;../old</userinput>
<prompt>%</prompt> <userinput>cd <replaceable>../pf-4.3</replaceable></userinput>
<prompt>%</prompt> <userinput>find . -type f | cut -c 3- | sort &gt;../new</userinput></screen>

	    <para>Com esses dois arquivos, o <command>comm -23 ../old ../new</command> listará os arquivos removidos (arquivos somente em <filename>old</filename>), enquanto <command> comm -13 .. /old ../new</command> listará os arquivos adicionados somente no <filename>new</filename>.</para>
	  </sect5>

	  <sect5>
	    <title>Importando para a Árvore do Fornecedor</title>

	    <para>Agora, os fontes devem ser copiados para <filename><replaceable>dist</replaceable></filename> e os comandos <command>svn add</command> e <command>svn rm</command> são usados conforme necessário:</para>

	    <screen><prompt>%</prompt> <userinput>cd <replaceable>vendor/pf/pf-4.3</replaceable></userinput>
<prompt>%</prompt> <userinput>tar cf - . | tar xf - -C ../dist</userinput>
<prompt>%</prompt> <userinput>cd <replaceable>../dist</replaceable></userinput>
<prompt>%</prompt> <userinput>comm -23 ../old ../new | xargs svn rm</userinput>
<prompt>%</prompt> <userinput>comm -13 ../old ../new | xargs svn add --parents</userinput></screen>

	    <para>Se algum diretório foi removido, ele terá que ser removido manualmente com o <command>svn rm</command>. Nada vai quebrar se eles não forem, mas eles permanecerão na árvore.</para>

	    <para>Verifique as propriedades em qualquer novo arquivo. Todos os arquivos de texto devem ter o <literal>svn:eol-style</literal> definido como <literal>native</literal>. Todos os arquivos binários devem ter o <literal>svn:mime-type</literal> configurado para <literal>application/octet-stream </literal>, a menos que haja um tipo de mídia mais apropriado. Arquivos executáveis devem ter <literal>svn:executable</literal> definido como <literal>*</literal>. Nenhuma outra propriedade deve existir em qualquer arquivo da árvore.</para>

	    <para>Agora é possível fazer o commit. No entanto, é uma boa prática certificar-se de que tudo está correto, usando os comandos <command>svn stat</command> e <command>svn diff</command>.</para>
	  </sect5>

	  <sect5>
	    <title>Marcação (Tagging)</title>

	    <para>Depois de realizado o commit, as versões do fornecedor são marcadas para referência futura. A melhor e mais rápida maneira de fazer isso é diretamente no repositório:</para>

	    <screen><prompt>%</prompt> <userinput>svn cp svn+ssh://repo.freebsd.org/base/<replaceable>vendor/pf/dist</replaceable> svn+ssh://repo.freebsd.org/base/<replaceable>vendor/pf/4.3</replaceable></userinput></screen>

	    <para>Quando isso estiver concluído, execute o <command>svn up</command> para a cópia de trabalho do <filename><replaceable>vendor/pf</replaceable></filename> para obter a nova tag, embora isso raramente seja necessário.</para>

	    <para>Se você criar a tag na cópia de trabalho da árvore, os resultados do <command>svn:mergeinfo</command> deverão ser removidos:</para>

	    <screen><prompt>%</prompt> <userinput>cd	<replaceable>vendor/pf</replaceable></userinput>
<prompt>%</prompt> <userinput>svn cp dist 4.3</userinput>
<prompt>%</prompt> <userinput>svn propdel svn:mergeinfo -R 4.3</userinput></screen>
	  </sect5>
	</sect4>

	<sect4>
	  <title>Mesclagem para o Head</title>

	  <screen><prompt>%</prompt> <userinput>cd <replaceable>head/contrib/pf</replaceable></userinput>
<prompt>%</prompt> <userinput>svn up</userinput>
<prompt>%</prompt> <userinput>svn merge --accept=postpone svn+ssh://repo.freebsd.org/base/<replaceable>vendor/pf/dist</replaceable> .</userinput></screen>

	  <para>O <literal>--accept=postpone</literal> diz ao Subversion para não reclamar sobre conflitos de mesclagem, pois eles serão manipulados manualmente.</para>

	  <tip xml:id="svn-advanced-use-vendor-imports-pre-svn">
	    <para>A mudança do <command>cvs2svn</command> ocorreu em 3 de junho de 2008. Ao realizar mesclagens de fornecedores para pacotes que já estavam presentes e convertidos pelo processo <command>cvs2svn</command>, o comando usado para mesclar <filename>/vendor/<replaceable>package_name</replaceable>/dist</filename> para <filename>/head/<replaceable>package_location</replaceable></filename> (por exemplo, <filename>head/contrib/sendmail</filename>) deve usar <option>-c <replaceable>REV</replaceable></option> para indicar a revisão a ser mesclada a partir da árvore <filename>/vendor</filename>. Por exemplo:</para>

	    <screen><prompt>%</prompt> <userinput>svn checkout svn+ssh://repo.freebsd.org/base/head/contrib/<replaceable>sendmail</replaceable></userinput>
<prompt>%</prompt> <userinput>cd sendmail</userinput>
<prompt>%</prompt> <userinput>svn merge -c r<replaceable>261190</replaceable> '^/vendor/<replaceable>sendmail/dist</replaceable>' .</userinput></screen>

	    <para><literal>^</literal> é um alias para o caminho do repositório.</para>
	  </tip>

	  <note>
	    <para>Se estiver usando o shell <application>Zsh</application>, o <literal>^</literal> deve ser escapado com <literal>\</literal> ou entre aspas.</para>
	  </note>

	  <para>É necessário resolver quaisquer conflitos de mesclagem.</para>

	  <para>Certifique-se de que todos os arquivos adicionados ou removidos na árvore do fornecedor tenham sido adicionados ou removidos corretamente na árvore principal. Para verificar os diffs com relação ao branch do fornecedor:</para>

	  <screen><prompt>%</prompt> <userinput>svn diff --no-diff-deleted --old=svn+ssh://repo.freebsd.org/base/<replaceable>vendor/pf/dist</replaceable> --new=.</userinput></screen>

	  <para>O <literal>--no-diff-deleted</literal> diz ao Subversion para não reclamar sobre os arquivos que estão na árvore do fornecedor, mas que não estão na árvore principal. Coisas que teriam sido removidas antes da importação do fornecedor, como os makefiles do fornecedor e os scripts de configuração.</para>

	  <para>Usando o <acronym>CVS</acronym>, uma vez que um arquivo estava fora do branch do fornecedor, ele não podia ser colocado de volta. Com o Subversion, não há nenhum conceito dentro ou fora do branch do fornecedor. Se um arquivo que anteriormente tinha modificações locais, para fazer com que ele não apareça em diffs na árvore do fornecedor, tudo o que tem que ser feito é remover qualquer sobra como as tags de versões do FreeBSD, o que é muito mais fácil.</para>

	  <para>Se alguma mudança for necessária para o "world" compilar com os novos fontes, faça-as agora e continue testando até que tudo seja compilado e executado perfeitamente.</para>
	</sect4>

	<sect4>
	  <title>Fazendo o commit da Importação de Fornecedores</title>

	  <para>Agora é possível fazer o commit! O commit deve ser feito de tudo de uma só vez. Se feito corretamente, a árvore passará de um estado consistente com o código antigo para um estado consistente com o novo código.</para>
	</sect4>

	<sect4>
	  <title>A partir do zero</title>

	  <sect5>
	    <title>Importando para a Árvore do Fornecedor</title>

	    <para>Esta seção é um exemplo de importação e marcação do <application>byacc</application> no <filename>head</filename>.</para>

	    <para>Primeiro, prepare o diretório em <filename>vendor</filename>:</para>

	    <screen><prompt>%</prompt> <userinput>svn co --depth immediates <replaceable>$FSVN/vendor</replaceable></userinput>
<prompt>%</prompt> <userinput>cd <replaceable>vendor</replaceable></userinput>
<prompt>%</prompt> <userinput>svn mkdir <replaceable>byacc</replaceable></userinput>
<prompt>%</prompt> <userinput>svn mkdir <replaceable>byacc/dist</replaceable></userinput></screen>

	    <para>Agora, importe os fontes para o diretório <filename>dist</filename>. Uma vez que os arquivos estiverem no lugar, faça o <command>svn add</command> dos novos, e então faça o <command>svn commit</command> e aplique a tag na versão importada. Para poupar tempo e largura de banda, é possível efetuar diretamente o commit e as marcações de forma remota:</para>

	    <screen><prompt>%</prompt> <userinput>svn cp -m <replaceable>"Tag byacc 20120115"</replaceable> <replaceable>$FSVN/vendor/byacc/dist</replaceable> <replaceable>$FSVN/vendor/byacc/20120115</replaceable></userinput></screen>
	  </sect5>

	  <sect5>
	    <title>Mesclando para o <literal>head</literal></title>

	    <para>Devido a este ser um novo arquivo, copie-o para a mesclagem:</para>

	    <screen><prompt>%</prompt> <userinput>svn cp -m <replaceable>"Import byacc to contrib"</replaceable> <replaceable>$FSVN/vendor/byacc/dist</replaceable> <replaceable>$FSVN/head/contrib/byacc</replaceable></userinput></screen>

	    <para>Ainda é possível trabalhar normalmente nos fontes recém importados.</para>
	  </sect5>
	</sect4>
      </sect3>

      <sect3 xml:id="svn-advanced-use-reverting-a-commit">
	<title>Revertendo um Commit</title>

	<para>A reversão de um commit para uma versão anterior é bem fácil:</para>

	<screen><prompt>%</prompt> <userinput>svn merge -r179454:179453 ROADMAP.txt</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>

	<para>Alterar a sintaxe do número, com o negativo significando a reversão de uma mudança, também pode ser usado:</para>

	<screen><prompt>%</prompt> <userinput>svn merge -c -179454 ROADMAP.txt</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>

	<para>Isso também pode ser feito diretamente no repositório:</para>

	<screen><prompt>%</prompt> <userinput>svn merge -r179454:179453 svn+ssh://repo.freebsd.org/base/ROADMAP.txt</userinput></screen>

	<note>
	  <para>É importante assegurar que o mergeinfo esteja correto ao reverter um arquivo para permitir que o <command>svn mergeinfo --eligible</command> funcione como esperado.</para>
	</note>

	<para>A reversão da exclusão de um arquivo é um pouco diferente. É necessário copiar a versão do arquivo que antecede a exclusão. Por exemplo, para restaurar um arquivo que foi excluído na revisão N, restaure a versão N-1:</para>

	<screen><prompt>%</prompt> <userinput>svn copy svn+ssh://repo.freebsd.org/base/ROADMAP.txt@179454</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>

	<para>ou, igualmente:</para>

	<screen><prompt>%</prompt> <userinput>svn copy svn+ssh://repo.freebsd.org/base/ROADMAP.txt@179454 svn+ssh://repo.freebsd.org/base</userinput></screen>

	<para>Simplesmente <emphasis>não</emphasis> recrie o arquivo manualmente e o adicione com o <command>svn add</command> - isso fará com que o histórico seja perdido.</para>
      </sect3>

      <sect3 xml:id="svn-advanced-use-fixing-mistakes">
	<title>Corrigindo Erros</title>

	<para>Por mais que possamos realizar uma cirurgia em uma emergência, não planeje ou corrija erros por baixo dos panos. Planos para erros permanecem nos registros para sempre. Certifique-se de verificar a saída do <command>svn status</command> e do <command>svn diff</command> antes de enviar o commit.</para>

	<para>Erros acontecerão, mas eles geralmente podem ser corrigidos sem perturbar.</para>

	<para>No caso de adicionar um arquivo no local errado. A coisa certa a fazer é usar o <command>svn move</command> e mover o arquivo para o local correto e fazer o commit. Isso altera apenas algumas linhas de metadados no journal do repositório, e os logs serão todos conectados corretamente.</para>

	<para>A coisa errada a fazer é apagar o arquivo e, em seguida, usar <command>svn add</command> para adicionar uma cópia independente no local correto. Em vez de algumas linhas de texto, o repositório journal cria uma nova cópia inteira do arquivo. Isso é um desperdício.</para>
      </sect3>

      <sect3 xml:id="svn-getting-started-checkout-from-a-mirror">
	<title>Usando um Espelho do Subversion</title>

	<para>Há uma séria desvantagem neste método: toda vez que for feito o commit de algo, terá que executar um <command>svn relocate</command> no repositório master, não esquecendo de executar o <command>svn relocate</command> de volta para o mirror após o commit. Além disso, como o <command>svn relocate</command> só funciona entre os repositórios que possuem o mesmo UUID, algum hacking do UUID do repositório local deve ocorrer antes que seja possível começar a usá-lo.</para>

	<sect4 xml:id="svn-advanced-checkout-from-mirror">
	  <title>Checkout a partir de um Mirror</title>

	  <para>Faça o checkout de uma cópia de trabalho a partir de um mirror substituindo a <acronym>URL</acronym> do mirror por <literal>svn+ssh://repo.freebsd.org/base</literal>. Este pode ser um mirror oficial ou um mirror mantido usando o <command>svnsync</command>.</para>
	</sect4>

	<sect4 xml:id="svn-advanced-use-setting-up-svnsync">
	  <title>Configurando um Mirror <application>svnsync</application></title>

	  <para>Evite configurar um mirror <application>svnsync</application> a menos que haja uma boa razão para isso. Na maioria das vezes, um mirror <command>git</command> é uma alternativa melhor. Começar um novo mirror do zero leva muito tempo. Espere um mínimo de 10 horas para conectividade de alta velocidade. Se o trafego for passar por links internacionais, espere que isso leve de quatro a dez vezes mais.</para>

	  <para>Uma maneira de limitar o tempo necessário é pegar um arquivo de <link xlink:href="https://download.freebsd.org/ftp/development/subversion/">seed</link>. Ele é grande (~1GB), mas consome menos tráfego de rede e leva menos tempo para baixar do que o svnsync.</para>

	  <para>Extraia o arquivo e o atualize:</para>

	  <screen><prompt>%</prompt> <userinput>tar xf svnmirror-base-r261170.tar.xz</userinput>
<prompt>%</prompt> <userinput>svnsync sync file:///home/svnmirror/base</userinput></screen>

	  <para>Agora, configure isso para executar a partir do <citerefentry><refentrytitle>cron</refentrytitle><manvolnum>8</manvolnum></citerefentry>, faça checkouts localmente, configure um servidor svnserve para as máquinas locais com as quais conversar, etc.</para>

	  <para>O mirror seed está definido para buscar o conteúdo a partir de <literal>svn://svn.freebsd.org/base</literal>. A configuração para o mirror é armazenada em <literal>revprop 0</literal> no mirror local. Para ver a configuração, tente:</para>

	  <screen><prompt>%</prompt> <userinput>svn proplist -v --revprop -r 0 file:///home/svnmirror/base</userinput></screen>

	  <para>Use <literal>svn propset</literal> para mudar as coisas.</para>
	</sect4>
      </sect3>

      <sect3 xml:id="svn-advanced-use-committing-high-ascii-data">
	<title>Fazendo commit de dados High<acronym>ASCII</acronym></title>

	<para>Os arquivos que possuem bits high-<acronym>ASCII</acronym> são considerados arquivos binários no <acronym>SVN</acronym>, portanto, as verificações de pré-commit falham e indicam que a propriedade <literal>mime-type</literal> deve ser definida como <literal>application/octet-stream</literal>. No entanto, o uso deste é desencorajado, por isso, não o defina. A melhor maneira é sempre evitar dados high-<acronym>ASCII</acronym>, para que possam ser lidos em qualquer lugar com qualquer editor de texto, mas se não for possivel evitar, em vez de alterar o mime-type, defina a propriedade <literal>fbsd:notbinary</literal> com o <literal>propset</literal>:</para>

	<screen><prompt>%</prompt> <userinput>svn propset fbsd:notbinary yes foo.data</userinput></screen>
      </sect3>

      <sect3 xml:id="svn-advanced-use-maintaining-a-project-branch">
	<title>Mantendo um branch de projeto</title>

	<para>Uma branch de projeto é aquela que está sincronizada com o head (ou outra branch) e é usada para desenvolver um projeto e, em seguida, fazer o seu commit de volta para o head. No <acronym>SVN</acronym>, o branch <quote>dolphin</quote> é usado para isso. Uma branch <quote>dolphin</quote> é aquela que diverge por um tempo e é finalmente enviada de volta ao branch original. Durante a migração do código de desenvolvimento em uma direção (do head para o branch apenas). Não é feito o commit de nenhum código de volta ao head até o final. Depois que é feito o commit da branch no final, ela estará morta (embora uma nova branch com o mesmo nome possa ser criada depois que a que está morta é excluída).</para>

	<para>Como explicado em <link xlink:href="https://people.FreeBSD.org/~peter/svn_notes.txt">https://people.FreeBSD.org/~peter/svn_notes.txt</link>, o trabalho que destina-se a ser mesclado de volta para o HEAD deve estar em <filename>base/projects/</filename>. Se o trabalho é benéfico para a comunidade do FreeBSD de alguma forma, mas não se destina a ser mesclado diretamente no HEAD, então o local apropriado é <filename>base/user/<replaceable>username</replaceable>/</filename>. <link xlink:href="https://svnweb.freebsd.org/base/projects/GUIDELINES.txt">Esta página</link> contém mais detalhes.</para>

	<para>Para criar um branch de projeto:</para>

	<screen><prompt>%</prompt> <userinput>svn copy svn+ssh://repo.freebsd.org/base/head svn+ssh://repo.freebsd.org/base/projects/spif</userinput></screen>

	<para>Para mesclar as alterações do HEAD de volta ao branch de projeto:</para>

	<screen><prompt>%</prompt> <userinput>cd copy_of_spif</userinput>
<prompt>%</prompt> <userinput>svn merge svn+ssh://repo.freebsd.org/base/head</userinput>
<prompt>%</prompt> <userinput>svn commit</userinput></screen>

	<para>É importante resolver quaisquer conflitos de mesclagem antes de fazer o commit.</para>
	<!--
	<para>To collapse everything back at the end:</para>

	<screen>&prompt.user; <userinput>svn write me</userinput></screen>

	-->
      </sect3>
    </sect2>

    <sect2>
      <title>Algumas dicas</title>

      <para>Nos logs de commit, etc., <quote>rev 179872</quote> é soletrado <quote>r179872</quote> conforme a convenção.</para>

      <para>É possível acelerar o svn adicionando estas entradas ao <filename>~/.ssh/config</filename>:</para>

      <screen>Host *
ControlPath ~/.ssh/sockets/master-%l-%r@%h:%p
ControlMaster auto
ControlPersist yes</screen>

      <para>e depois digitando</para>

      <screen><userinput>mkdir ~/.ssh/sockets</userinput></screen>

      <para>Fazer o check-out de uma cópia de trabalho com um cliente Subversion padrão sem patches específicos do FreeBSD (<varname>OPTIONS_SET=FREEBSD_TEMPLATE</varname>) significará que as tags <literal>$FreeBSD$</literal> não serão expandidas. Uma vez que a versão correta foi instalada, engane o Subversion para expandi-las da seguinte forma:</para>

      <screen><prompt>%</prompt> <userinput>svn propdel -R svn:keywords .</userinput>
<prompt>%</prompt> <userinput>svn revert -R .</userinput></screen>

      <para>Isso eliminará os patches para os quais ainda não foi feito o commit.</para>

      <para>É possível preencher automaticamente os campos de log de commit "Sponsored by" e "MFC after" configurando os campos "freebsd-sponsored-by" e "freebsd-mfc-after" na seção "[miscellany]" do arquivo de configuração <filename>~/.subversion/config</filename>. Por exemplo:</para>

      <programlisting>freebsd-sponsored-by = The FreeBSD Foundation
freebsd-mfc-after = 2 weeks</programlisting>
    </sect2>
  </sect1>

  <sect1 xml:id="conventions">
    <title>Configuração, Convenções e Tradições</title>

    <para>Existe uma série de coisas para fazer como um novo desenvolvedor. O primeiro conjunto de etapas é específico apenas para os committers. Essas etapas devem ser feitas por um mentor para aqueles que não são committers.</para>

    <sect2 xml:id="conventions-committers">
      <title>Para novos committers</title>

      <para>Aqueles que receberam direitos de commit para os repositórios do FreeBSD devem seguir estes passos.</para>

      <itemizedlist xml:id="commit-notes">
	<listitem>
	  <para>Obtenha a aprovação do seu mentor antes de fazer o commit de cada uma dessas mudanças!</para>
	</listitem>

	<listitem>
	  <para>Os arquivos <filename>.ent</filename> e <filename>.xml</filename> mencionados abaixo existem no repositório SVN do Projeto de Documentation do FreeBSD em <literal>svn+ssh://repo.FreeBSD.org/doc/</literal>.</para>
	</listitem>

	<listitem>
	  <para>Novos arquivos que não possuem a propriedade <literal>FreeBSD=%H</literal> <command>svn:keywords</command> serão rejeitados quando você tentar fazer o commit dos mesmos para o repositório. Certifique-se de ler <xref linkend="svn-daily-use-adding-and-removing"/> sobre como adicionar e remover arquivos. Verifique se o <filename>~/.subversion/config</filename> contém as entradas necessárias de <quote>auto-props</quote> do <filename>auto-props.txt</filename> mencionado lá.</para>
	</listitem>

	<listitem>
	  <para>Todos os commits do <filename>src</filename> vão para o FreeBSD-CURRENT antes de serem mesclados para o FreeBSD-STABLE. A branch do FreeBSD-STABLE deve manter a compatibilidade de <acronym>ABI</acronym> e de  <acronym>API</acronym> com as versões anteriores dessa branch. Não mescle as alterações que quebram essa compatibilidade.</para>
	</listitem>
      </itemizedlist>

      <procedure xml:id="commit-steps">
	<title>Etapas para os novos committers</title>

	<step>
	  <title>Adicione uma entidade de autor</title>

	  <para><filename>doc/head/share/xml/authors.ent</filename> - Adicione uma entidade de autor. Etapas posteriores dependem dessa entidade, e a falta dessa etapa fará com que a compilação do <filename>doc/</filename> falhe. Essa é uma tarefa relativamente fácil, mas continua sendo um bom primeiro teste de habilidades no controle de versão.</para>
	</step>

	<step>
	  <title>Atualize a lista de desenvolvedores e colaboradores</title>

	  <para><filename>doc/head/en_US.ISO8859-1/articles/contributors/contrib.committers.xml</filename> - Adicione uma entrada à seção <quote>Desenvolvedores</quote> da <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/articles/contributors/staff-committers.html">Lista de Contribuidores</link>. As entradas são classificadas pelo sobrenome.</para>

	  <para><filename>doc/head/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</filename> - <emphasis>Remova</emphasis> a entrada da seção <quote>Contribuidores Adicionais</quote>. As entradas são classificadas pelo primeiro nome.</para>
	</step>

	<step>
	  <title>Adicione um item de notícias</title>

	  <para><filename>doc/head/share/xml/news.xml</filename> - Adicione uma entrada. Procure por outras entradas que anunciam novos committers e siga o formato. Use a data do email de aprovação do <email>core@FreeBSD.org</email> para o commit bit.</para>
	</step>

	<step>
	  <title>Adicione uma chave <acronym>PGP</acronym></title>

	  <para><filename>doc/head/share/pgpkeys/pgpkeys.ent</filename> e <filename>doc/head/share/pgpkeys/pgpkeys-developers.xml</filename> - Adicione a sua chave <acronym>PGP</acronym> ou Gnu<acronym>PG</acronym>. Aqueles que ainda não têm uma chave devem ver <xref linkend="pgpkeys-creating"/>.</para>

	  <para>O Dag-Erling Smørgrav <email>des@FreeBSD.org</email> escreveu um script de shell (<filename>doc/head/share/pgpkeys/addkey.sh</filename>) para tornar isto mais fácil. Consulte o arquivo <link xlink:href="http://svnweb.FreeBSD.org/doc/head/share/pgpkeys/README">README</link> para obter mais informações.</para>

	  <para>Use o <filename>doc/head/share/pgpkeys/checkkey.sh</filename> para verificar se as chaves atendem aos padrões mínimos das boas práticas recomendadas.</para>

	  <para>Depois de adicionar e verificar uma chave, adicione os dois arquivos atualizados ao controle de versão do código fonte, e em seguida faça o commit. As entradas neste arquivo são classificadas pelo sobrenome.</para>

	  <note>
	    <para>É muito importante ter uma chave <acronym>PGP</acronym>/Gnu<acronym>PG</acronym> atualizada no repositório. A chave pode ser necessária para a identificação positiva de um committer. Por exemplo, os Administradores do FreeBSD <email>admins@FreeBSD.org </email>podem precisar dela para a recuperação da conta. Um chaveiro completo dos usuários do <systemitem class="fqdomainname">FreeBSD.org</systemitem> está disponível para download em <link xlink:href="@@URL_RELPREFIX@@/doc/pgpkeyring.txt">https://www.FreeBSD.org/doc/pgpkeyring.txt</link>.</para>
	  </note>
	</step>

	<step>
	  <title>Atualize as informações do Mentor e do Mentee</title>

	  <para><filename>base/head/share/misc/committers-<replaceable>repository</replaceable>.dot</filename> - Adicione uma entrada à seção committers atuais, onde <replaceable>repository</replaceable> é <literal>doc</literal>, <literal>ports</literal>, ou <literal>src</literal>, dependendo dos privilégios de commit concedidos.</para>

	  <para>Adicione uma entrada para cada relacionamento adicional de mentor/mentee na seção inferior.</para>
	</step>

	<step>
	  <title>Gere uma senha do <application>Kerberos</application></title>

	  <para>Veja <xref linkend="kerberos-ldap"/> para gerar ou definir um <application>Kerberos</application> para uso com outros serviços do FreeBSD, como o banco de dados de rastreamento de bugs.</para>
	</step>

	<step>
	  <title>Opcional: Ative a sua conta na Wiki</title>

	  <para><link xlink:href="https://wiki.freebsd.org">Conta no Wiki do FreeBSD</link> - Uma conta no wiki permite que  compartilhe projetos e ideias. Aqueles que ainda não têm uma conta podem seguir as instruções da <link xlink:href="https://wiki.freebsd.org/AboutWiki">Página Sobre a Wiki</link> para obter uma. Entre em contato com <email>clusteradm@FreeBSD.org</email> se precisar de ajuda com sua conta no Wiki.</para>
	</step>

	<step>
	  <title>Opcional: Atualize informações do Wiki</title>

	  <para>Informações do Wiki - Depois de obter acesso ao wiki, algumas pessoas adicionam entradas nas páginas <link xlink:href="https://wiki.freebsd.org/HowWeGotHere">How We Got Here</link>, <link xlink:href="https://wiki.freebsd.org/IRC/Nicknames">IRC Nicks</link> e <link xlink:href="https://wiki.freebsd.org/Community/Dogs">Dogs of FreeBSD</link> páginas.</para>
	</step>

	<step>
	  <title>Opcional: Atualize o Ports com as suas Informações Pessoais</title>

	  <para><filename>ports/astro/xearth/files/freebsd.committers.markers</filename> e <filename>src/usr.bin/calendar/calendars/calendar.freebsd</filename> - Algumas pessoas adicionam entradas para elas nestes arquivos para mostrar onde estão localizadas ou a data de seu aniversário.</para>
	</step>

	<step>
	  <title>Opcional: Evite Correspondências Duplicadas</title>

	  <para>Assinantes das listas <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link>, <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all">svn-ports-all</link> ou da <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all">svn-doc-all</link> podem desejar cancelar a assinatura para evitar receber cópias duplicadas de mensagens de commit e de followups.</para>
	</step>
      </procedure>
    </sect2>

    <sect2 xml:id="conventions-everyone">
      <title>Para todos</title>

      <procedure xml:id="conventions-everyone-steps">
	<step>
	  <para>Apresente-se aos outros desenvolvedores, caso contrário, ninguém fará a menor ideia de quem você é ou no que você está trabalhando. A introdução não precisa ser uma biografia abrangente, basta escrever um parágrafo ou dois sobre quem você é, em que você planeja trabalhar como desenvolvedor no FreeBSD e quem será seu mentor. Envie os parágrafos por e-mail para a lista de discussão dos desenvolvedores do FreeBSD e você estará a caminho!</para>
	</step>

	<step>
	  <para>Entre na <systemitem>freefall.FreeBSD.org</systemitem> e crie um arquivo <filename>/var/forward/<replaceable>user</replaceable></filename> (no qual <replaceable>user</replaceable> é seu nome de usuário) contendo o endereço de e-mail para o qual você deseja que o correio endereçado para <replaceable>yourusername</replaceable>@FreeBSD.org seja encaminhado. Isto inclui todas as mensagens de commit assim como qualquer outro email endereçado à lista de discussão dos committers do FreeBSD e à lista de discussão dos desenvolvedores do FreeBSD. Caixas de correio realmente grandes que tenham residência permanente na <systemitem>freefall</systemitem> podem ser truncadas sem aviso se o espaço precisar ser liberado, então encaminhe suas mensagens ou salve-as em outro lugar.</para>

	  <para>Devido ao load severo imposto aos servidores centrais que fazem o processamento da lista de discussão devido ao grande volume de SPAMs, o servidor de front-end faz algumas verificações básicas e descarta algumas mensagens com base nessas verificações. No momento, as informações de DNS adequadas para o host de conexão são a única verificação ativa, mas isso pode mudar. Algumas pessoas culpam estas verificações por rejeitar e-mails válidos. Para que essas verificações sejam desativadas no seu email, crie um arquivo chamado <filename>~/.spam_lover</filename> no servidor <systemitem class="fqdomainname">freefall.FreeBSD.org</systemitem>.</para>
	</step>
      </procedure>

      <note>
	<para>Aqueles que são desenvolvedores, mas não são committers, não serão inscritos nas listas de discussão de desenvolvedores ou de committers. As assinaturas são derivadas dos direitos de acesso.</para>
      </note>
    </sect2>

    <sect2 xml:id="mentors">
      <title>Mentores</title>

      <para>Todos os novos desenvolvedores têm um mentor atribuído a eles nos primeiros meses. Um mentor é responsável por ensinar ao aprendiz as regras e convenções do projeto e orientar seus primeiros passos na comunidade de desenvolvedores. O mentor também é pessoalmente responsável pelas ações do aprendiz durante este período inicial.</para>

      <para>Para committers: não faça nenhum commit sem antes obter a aprovação do seu mentor. Documente essa aprovação com uma linha <literal>Approved by:</literal> na mensagem de commit.</para>

      <para>Quando o mentor decide que um aprendiz já aprendeu o necessário e está pronto para fazer commits por conta própria, o mentor anuncia o fato com um commit no <filename>conf/mentors</filename>. Este arquivo está na branch <filename>svnadmin</filename> de cada repositório:</para>

      <informaltable frame="none">
	<tgroup cols="2">
	  <tbody>
	    <row>
	      <entry><literal>src</literal></entry>
	      <entry><filename>base/svnadmin/conf/mentors</filename></entry>
	    </row>

	    <row>
	      <entry><literal>doc</literal></entry>
	      <entry><filename>doc/svnadmin/conf/mentors</filename></entry>
	    </row>

	    <row>
	      <entry><literal>ports</literal></entry>
	      <entry><filename>ports/svnadmin/conf/mentors</filename></entry>
	    </row>
	  </tbody>
	</tgroup>
      </informaltable>
    </sect2>
  </sect1>

  <sect1 xml:id="commit-log-message">
    <title>Mensagens de Log de Commit</title>

    <para>Esta seção contém algumas sugestões e tradições de como os logs de commit são formatados.</para>

    <para>Além de incluir uma mensagem informativa com cada commit, algumas informações adicionais podem ser necessárias.</para>

    <para>Essas informações consistem em uma ou mais linhas contendo a palavra-chave ou frase, dois-pontos, guias para formatação e, em seguida, as informações adicionais.</para>

    <para>As palavras ou frases-chave são:</para>

    <informaltable frame="none" pgwide="1">
      <tgroup cols="2">
	<tbody>
	  <row>
	    <entry><literal>PR:</literal></entry>
	    <entry>O relatório do problema (se houver) que é afetado (normalmente, por estar fechado) por este commit. Vários PRs podem ser especificados em uma linha, separados por vírgulas ou espaços.</entry>
	  </row>

	  <row>
	    <entry><literal>Submitted by:</literal></entry>
	    <entry>
	      <para>O nome e o endereço de e-mail da pessoa que enviou a correção; para desenvolvedores, apenas o nome de usuário no cluster do FreeBSD.</para>

	      <para>Se o requisitante for o mantenedor do port que está sendo atualizado pelo commit, inclua "(maintainer)" após o endereço de e-mail.</para>

	      <para>Evite ofuscar o endereço de e-mail do remetente, pois isso adiciona trabalho adicional ao pesquisar os registros.</para>
	    </entry>
	  </row>

	  <row>
	    <entry><literal>Reviewed by:</literal></entry>
	    <entry>O nome e o endereço de e-mail da pessoa ou pessoas que revisaram a alteração; para desenvolvedores, apenas o nome de usuário no cluster do FreeBSD. Se um patch foi submetido a uma lista de discussão para revisão e a revisão foi favorável, basta incluir o nome da lista.</entry>
	  </row>

	  <row>
	    <entry><literal>Approved by:</literal></entry>
	    <entry><para>O nome e endereço de e-mail da pessoa ou pessoas que aprovaram a alteração; para desenvolvedores, apenas o nome de usuário no cluster do FreeBSD. É costume obter aprovação prévia para um commit se for para uma área da árvore na qual você normalmente não faz commit. Além disso, durante a preparação para uma nova versão, todos os commits <emphasis>devem</emphasis> ser aprovados pela equipe de engenharia de release.</para>

	    <para>Enquanto estiver sob orientação, obtenha aprovação do mentor antes do commit. Digite o nome de usuário do mentor neste campo e adicione uma nota de que ele é um mentor:</para>

	    <screen>Approved by: <userinput><replaceable>username-of-mentor</replaceable> <literal>(mentor)</literal></userinput></screen>

	    <para>Se uma equipe aprovou esses commits, inclua o nome da equipe seguido do nome de usuário do aprovador entre parênteses. Por exemplo:</para>

	    <screen>Approved by: <userinput><literal>re</literal> (<replaceable>username</replaceable>)</userinput></screen></entry>
	  </row>

	  <row>
	    <entry><literal>Obtained from:</literal></entry>
	    <entry>O nome do projeto (se houver) do qual o código foi obtido. Não use esta linha para o nome de uma pessoa individual.</entry>
	  </row>

	  <row>
	    <entry><literal>Sponsored by:</literal></entry>
	    <entry>Organizações patrocinadoras dessa mudança, se houver. Separe várias organizações com vírgulas. Se apenas uma parte do trabalho foi patrocinada, ou diferentes montantes de patrocínio foram fornecidos a diferentes autores, por favor, forneça os devidos créditos entre parênteses após cada nome de patrocinador. Por exemplo, <literal>Example.com (alice, refatoração de código), Wormulon (bob), Momcorp (cindy)</literal> mostra que Alice foi patrocinada pela Example.com para refatoração de código, enquanto Wormulon patrocinou o trabalho de Bob e a Momcorp patrocinou o trabalho de Cindy. Outros autores não foram patrocinados ou optaram por não listar o patrocínio.</entry>
	  </row>

	  <row>
	    <entry><literal>MFC after:</literal></entry>
	    <entry>Para receber um lembrete por e-mail para o <acronym>MFC</acronym> em uma data posterior, especifique o número de dias, semanas ou meses após os quais um <acronym>MFC</acronym> está planejado.</entry>
	  </row>

	  <row>
	    <entry><literal>MFC to:</literal></entry>
	    <entry>Se o commit deve ser mesclado em um subconjunto de branches estáveis, especifique os nomes das branchs.</entry>
	  </row>

	  <row>
	    <entry><literal>MFC with:</literal></entry>
	    <entry>Se o commit deve ser mesclado junto com um commit anterior em um único <acronym>MFC</acronym> (por exemplo, onde o commit corrige um bug da alteração anterior), especifique o número de revisão correspondente.</entry>
	  </row>

	  <row>
	    <entry><literal>Relnotes:</literal></entry>
	    <entry>Se a alteração for candidata a inclusão nas notas de lançamento da próxima versão da branch, defina como <literal>yes</literal>.</entry>
	  </row>

	  <row>
	    <entry><literal>Security:</literal></entry>
	    <entry>Se a alteração estiver relacionada a uma vulnerabilidade de segurança ou exposição de segurança, inclua uma ou mais referências ou uma descrição do problema. Se possível, inclua um URL VuXML ou um ID CVE.</entry>
	  </row>

	  <row>
	    <entry><literal>Differential Revision:</literal></entry>
	    <entry>A URL completa da revisão do Phabricator. Esta linha <emphasis> deve ser a última linha </emphasis>. Por exemplo: <literal>https://reviews.freebsd.org/D1708</literal>.</entry>
	  </row>
	</tbody>
      </tgroup>
    </informaltable>

    <example>
      <title>Commit Log para um commit baseado em um PR</title>

      <para>O commit é baseado em um patch de um PR enviado por John Smith. Os campos da mensagem de commit <quote>PR</quote> e <quote>Submitted by</quote> são preenchidos.</para>

      <programlisting>...

	    PR:                    12345
	    Submitted by:	   John Smith &lt;John.Smith@example.com&gt;</programlisting>
    </example>

    <example>
      <title>Commit log de um commit que precisa de revisão</title>

      <para>O sistema de memória virtual está sendo alterado. Depois de enviar os patches para a lista de discussão apropriada (neste caso, <literal>freebsd-arch</literal>) e as mudanças foram aprovadas.</para>

      <programlisting>...

	    Reviewed by:       -arch</programlisting>
    </example>

    <example>
      <title>Commit log de um commit que precisa de aprovação</title>

      <para>Commit um port, depois de trabalhar com o MAINTAINER, que disse para ir em frente e executar o commit.</para>

      <programlisting>...

	    Approved by:	    <replaceable>abc</replaceable> (maintainer)</programlisting>

      <para>No qual o <replaceable>abc</replaceable> é o nome da conta da pessoa que aprovou.</para>
    </example>

    <example>
      <title>Commit log de um commit que importa código do OpenBSD</title>

      <para>Efetuando o commit de códigos baseados no trabalho feito no projeto OpenBSD.</para>

      <programlisting>...

	    Obtained from:      OpenBSD</programlisting>
    </example>

    <example>
      <title>Commit Log para uma mudança no FreeBSD-CURRENT com um commit planejado para o FreeBSD-STABLE para seguir em uma data posterior.</title>

      <para>Efetuando o commit de códigos que serão mesclados do FreeBSD-CURRENT na branch do FreeBSD-STABLE após duas semanas.</para>

      <programlisting>...

MFC after:      <replaceable>2 weeks</replaceable></programlisting>

      <para>Onde <replaceable>2</replaceable> é o número de dias, semanas ou meses após o qual um <acronym>MFC</acronym> é planejado. A opção <replaceable>weeks</replaceable> pode ser <literal>day</literal>, <literal>dias</literal>, <literal>semana</literal>, <literal>semanas</literal>, <literal>mês</literal>, <literal>meses</literal>.</para>
    </example>

    <para>Muitas vezes é necessário combinar isso.</para>

    <para>Considere a situação em que um usuário enviou um código contendo o PR do projeto NetBSD. Olhando para o PR, o desenvolvedor vê que não é uma área da árvore na qual eles normalmente trabalham, então eles têm a mudança revisada pela lista de discussão <literal>arch</literal>. Como a mudança é complexa, o desenvolvedor opta pelo <acronym>MFC</acronym> após um mês para permitir testes adequados.</para>

    <para>A informação extra para incluir no commit seria algo como</para>

    <example>
      <title>Exemplo de log de commit combinado</title>

      <programlisting>PR:                 54321
Submitted by:       John Smith &lt;John.Smith@example.com&gt;
Reviewed by:        -arch
Obtained from:      NetBSD
MFC after:          1 month
Relnotes:           yes</programlisting>
    </example>
  </sect1>

  <sect1 xml:id="pref-license">
    <title>Licença preferida para novos arquivos</title>

    <para>O Projeto FreeBSD sugere e usa este texto como o esquema de licença preferencial:</para>

    <programlisting>/*-
 * SPDX-License-Identifier: BSD-2-Clause-FreeBSD
 *
 * Copyright (c) [year] [your name]
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS BE LIABLE
 * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS
 * OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)
 * HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT
 * LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY
 * OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 *
 * [id for your version control system, if any]
 */</programlisting>

    <para>O projeto FreeBSD desencoraja fortemente a chamada "cláusula publicitária" no novo código. Devido ao grande número de contribuidores para o projeto FreeBSD, o cumprimento desta cláusula para muitos fornecedores comerciais se tornou difícil. Se você tiver um código na árvore com a cláusula de publicidade, considere removê-lo. Na verdade, considere usar a licença acima para o seu código.</para>

    <para>O projeto FreeBSD desencoraja completamente novas licenças e variações nas licenças padrões. Novas licenças requerem a aprovação do Core Team <email>core@FreeBSD.org</email> para residir no repositório principal. Quanto mais licenças diferentes forem usadas na árvore, mais problemas isso causará para aqueles que desejarem utilizar esse código, geralmente de consequências não intencionais de uma licença mal formulada.</para>

    <para>A política do projeto determina que o código sob algumas licenças não-BSD deve ser colocado apenas em seções específicas do repositório e, em alguns casos, a compilação deve ser condicional ou até mesmo desativada por padrão. Por exemplo, o kernel GENERIC deve ser compilado apenas sob licenças idênticas ou substancialmente semelhantes à licença BSD. O software licenciado GPL, APSL, CDDL, etc, não deve ser compilado no GENERIC.</para>

    <para>Os desenvolvedores são lembrados de que, em código aberto, ficar "aberto" corretamente é tão importante quanto obter o "fonte" correto, já que o manuseio inadequado da propriedade intelectual tem sérias consequências. Quaisquer dúvidas ou preocupações devem imediatamente ser levadas à atenção do Core Team.</para>
  </sect1>

  <sect1 xml:id="tracking.license.grants">
    <title>Acompanhando as Licenças Concedidas ao Projeto FreeBSD</title>

    <para>Vários softwares ou dados existem nos repositórios onde o projeto FreeBSD recebeu uma licença especial para poder usá-los. Um caso em questão são as fontes do Terminus para uso com o <citerefentry><refentrytitle>vt</refentrytitle><manvolnum>4</manvolnum></citerefentry>. Aqui, o autor Dimitar Zhekov nos permitiu usar a fonte "Terminus BSD Console" sob uma licença BSD de 2 cláusulas, em vez da licença Open Font License que ele normalmente usa.</para>

    <para>É claramente sensível manter um registro de tais concessões de licença. Para esse fim, o Core Team <email>core@FreeBSD.org</email> decidiu manter um arquivo delas. Sempre que o projeto FreeBSD receber uma licença especial, nós exigimos que o Core Team <email>core@FreeBSD.org</email> seja notificado. Qualquer desenvolvedor envolvido na obtenção de tal concessão de licença, por favor envie os detalhes para o Core Team <email>core@FreeBSD.org</email> incluindo:</para>

    <itemizedlist>
      <listitem>
	<para>Detalhes de contato para as pessoas ou organizações que concederam a licença especial.</para>
      </listitem>

      <listitem>
	<para>Quais arquivos, diretórios etc. nos repositórios são cobertos pela concessão da licença, incluindo os números de revisão dos commits nos quais qualquer material especialmente licenciado tenha sido incorporado.</para>
      </listitem>

      <listitem>
	<para>A data em que a licença entra em vigor. Salvo acordo em contrário, esta será a data em que a licença foi emitida pelos autores do software em questão.</para>
      </listitem>

      <listitem>
	<para>O texto da licença.</para>
      </listitem>

      <listitem>
	<para>Uma nota de quaisquer restrições, limitações ou exceções que se aplicam especificamente ao uso do material licenciado pelo FreeBSD.</para>
      </listitem>

      <listitem>
	<para>Qualquer outra informação relevante.</para>
      </listitem>
    </itemizedlist>

    <para>Uma vez que o Core Team <email>core@FreeBSD.org</email> esteja satisfeito de que todos os detalhes necessários foram reunidos e estão corretos, o secretário enviará um aviso de recebimento assinado com o PGP, incluindo os detalhes da licença. Esse recibo será persistentemente arquivado e servirá como nosso registro permanente da concessão da licença.</para>

    <para>O arquivo de licença deve conter apenas detalhes das concessões de licença; este não é o lugar para qualquer discussão em torno de licenciamento ou outros assuntos. O acesso aos dados dentro do arquivo de licença estará disponível mediante solicitação para o Core Team <email>core@FreeBSD.org</email>.</para>
  </sect1>

  <sect1 xml:id="developer.relations">
    <title>Relações entre os Desenvolvedores</title>

    <para>Ao trabalhar diretamente em seu próprio código ou em um código que já esteja bem estabelecido como sua responsabilidade, provavelmente haverá pouca necessidade de verificar com outros committers antes de entrar com um commit. Ao trabalhar em um bug em uma área do sistema que é claramente órfã (e existem algumas dessas áreas, para nossa vergonha), o mesmo se aplica. Ao modificar partes do sistema que são mantidas, formalmente ou informalmente, considere solicitar uma revisão exatamente como um desenvolvedor teria de fazer antes de se tornar um committer. Para os ports, entre em contato com o <varname>MAINTAINER</varname> listado no <filename>Makefile</filename>.</para>

    <para>Para determinar se uma área da árvore é mantida, verifique o arquivo MAINTAINERS na raiz da árvore. Se ninguém estiver listado, analise o histórico de revisões para ver quem fez o commit de alterações no passado. Um script de exemplo que lista cada pessoa que já fez commit de um determinado arquivo junto com o número de commits que cada pessoa fez pode ser encontrado na <systemitem>freefall</systemitem> em <filename>~eadler/bin/whodid</filename>. Se as consultas não forem atendidas ou se o committer indicar uma falta de interesse na área afetada, vá em frente e faça o commit.</para>

    <important>
      <para>Evite enviar e-mails privados para os mantenedores. Outras pessoas podem estar interessadas na conversa, não apenas no resultado final.</para>
    </important>

    <para>Se houver qualquer dúvida sobre um commit por qualquer razão, submeta-o ao processo de revisão antes de faze-lo. É melhor fazer com que ele seja criticado lá e não quando ele já fizer parte do repositório. Se um commit resulta em controvérsia, pode ser aconselhável considerar a possibilidade de fazer o rollback do commit até que o assunto seja resolvido. Lembre-se, com um sistema de controle de versão, podemos sempre alterá-lo de volta.</para>

    <para>Não impugne as intenções dos outros. Se eles vêem uma solução diferente para um problema, ou até um problema diferente, provavelmente não é porque eles são estúpidos, porque eles têm parentesco questionável, ou porque eles estão tentando destruir o trabalho duro, a imagem pessoal ou o FreeBSD, mas basicamente porque eles têm uma visão diferente do mundo. Diferente é bom.</para>

    <para>Discorde honestamente. Argumente sua posição com base em seus méritos, seja honesto quanto a quaisquer deficiências que possa ter, e esteja aberto para ver a solução deles, ou mesmo a visão deles do problema, com uma mente aberta.</para>

    <para>Aceite a correção. Somos todos falíveis. Quando você cometer um erro, peça desculpas e continue com a vida. Não se bata, e certamente não espanque os outros por seu erro. Não perca tempo com constrangimentos ou recriminações, apenas conserte o problema e siga em frente.</para>

    <para>Peça por ajuda. Procure (e dê) revisões dos seus pares. Uma das maneiras pelas quais o software de código aberto deve se sobressair é no número de globos oculares aplicados a ele; isso não se aplica se ninguém revisar o código.</para>
  </sect1>

  <sect1 xml:id="if-in-doubt">
    <title>Se em dúvida...</title>

    <para>Quando não tiver certeza sobre algo, seja um problema técnico ou uma convenção do projeto, não se esqueça de perguntar. Se você ficar em silêncio, nunca fará progressos.</para>

    <para>Se estiver relacionado a um problema técnico, pergunte nas listas públicas de discussão. Evite a tentação de enviar e-mail para a pessoa que conhece a resposta. Dessa forma, todos poderão aprender com a pergunta e a resposta.</para>

    <para>Para perguntas específicas ou administrativas do projeto, pergunte na seguinte ordem:</para>

    <itemizedlist>
      <listitem>
	<para>Seu mentor ou ex-mentor.</para>
      </listitem>

      <listitem>
	<para>Um committer experiente no IRC, email, etc.</para>
      </listitem>

      <listitem>
	<para>Qualquer equipe com um "hat" (chapéu), uma vez que eles podem lhe dar uma resposta definitiva.</para>
      </listitem>

      <listitem>
	<para>Se ainda não tiver certeza, pergunte na lista de discussão dos desenvolvedores do FreeBSD.</para>
      </listitem>
    </itemizedlist>

    <para>Uma vez que sua pergunta seja respondida, se ninguém lhe indicou a documentação que soletra a resposta para sua pergunta, documente-a, pois outros terão a mesma pergunta no futuro.</para>
  </sect1>

  <sect1 xml:id="bugzilla">
    <title>Bugzilla</title>

    <para>O Projeto FreeBSD utiliza o <application>Bugzilla</application> para rastrear bugs e requisições de alteração. Certifique-se de fechar o PR caso você faça o commit de uma correção ou sugestão encontrada no banco de dados de PR. Também é considerada uma boa prática você reservar um tempo para fechar qualquer PR associado aos seus commits, se apropriado.</para>

    <para>Committers com contas não-<systemitem class="domainname">FreeBSD.org</systemitem> no Bugzilla podem ter a conta antiga mesclada com a conta <systemitem class="domainname">FreeBSD.org</systemitem> seguindo estes passos:</para>

    <procedure>
      <step>
	<para>Faça o login usando sua conta antiga.</para>
      </step>

      <step>
	<para>Abra um novo bug. Escolha <literal>Services</literal> como o Produto e <literal>Bug Tracker</literal> como o Componente. Na descrição de erros liste as contas que você deseja mesclar.</para>
      </step>

      <step>
	<para>Faça o login usando a conta do <systemitem class="domainname">FreeBSD.org</systemitem> e poste um comentário no bug recém-aberto para confirmar a propriedade. Veja <xref linkend="kerberos-ldap"/> para mais detalhes sobre como gerar ou definir uma senha para sua conta <systemitem class="domainname">FreeBSD.org</systemitem>.</para>
      </step>

      <step>
	<para>Se houver mais de duas contas para mesclar, poste comentários de cada uma delas.</para>
      </step>
    </procedure>

    <para>Você pode descobrir mais sobre o <application>Bugzilla</application> em:</para>

    <itemizedlist>
      <listitem>
	<para><link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/articles/pr-guidelines/index.html">Diretrizes para manuseio de relatórios de problemas</link></para>
      </listitem>

      <listitem>
	<para><link xlink:href="@@URL_RELPREFIX@@/support.html">https://www.FreeBSD.org/support.html</link></para>
      </listitem>
    </itemizedlist>
  </sect1>

  <sect1 xml:id="phabricator">
    <title>Phabricator</title>

    <para>O projeto FreeBSD utiliza o <link xlink:href="https://reviews.freebsd.org">Phabricator</link> para solicitações de revisão de código. Veja a página <link xlink:href="https://wiki.freebsd.org/CodeReview">CodeReview</link> no wiki para detalhes.</para>

    <para>Committers com contas não-<systemitem class="domainname">FreeBSD.org</systemitem> no Phabricator podem ter a conta antiga renomeada para a conta <systemitem class="domainname">FreeBSD.org</systemitem> seguindo estes passos:</para>

    <procedure>
      <step>
	<para>Altere o email da conta do <application>Phabricator</application> para o seu email <systemitem class="domainname">FreeBSD.org</systemitem>.</para>
      </step>

      <step>
	<para>Abra um novo bug em nosso bug tracker usando sua conta <systemitem class="domainname">FreeBSD.org</systemitem>, veja <xref linkend="bugzilla"/> para mais informações. Escolha <literal>Services</literal> como o Produto e <literal>Code Review</literal> como o Componente. Na descrição de bugs, solicite que a sua conta do <application>Phabricator</application> seja renomeada e forneça um link para o usuário do <application>Phabricator</application>. Por exemplo, <literal> https://reviews.freebsd.org/p/<replaceable>bob_example.com</replaceable>/</literal></para>
      </step>
    </procedure>

    <important>
      <para>As contas do <application>Phabricator</application> não podem ser mescladas, por favor, não abra uma nova conta.</para>
    </important>
  </sect1>

  <sect1 xml:id="people">
    <title>Quem é quem</title>

    <para>Além dos repositórios meisters, existem outros membros e equipes do projeto FreeBSD que você provavelmente conhecerá no exercício da sua função como committer. Resumidamente, e de forma alguma inclusivamente, estes são:</para>

    <variablelist>
      <varlistentry>
	<term>Equipe de Engenharia de Documentação <email>doceng@FreeBSD.org</email></term>

	<listitem>
	  <para>O doceng é o grupo responsável pela infraestrutura de criação de documentação, aprovando de novos committers de documentação e garantindo que o website do FreeBSD e a documentação no site FTP estão atualizados em relação à árvore <application>subversion</application>. Não é um corpo de resolução de conflitos. A grande maioria das discussões relacionadas à documentação ocorre na <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-doc">lista de discussão do projeto de documentação do FreeBSD</link>. Mais detalhes sobre a equipe doceng podem ser encontrados em seu <link xlink:href="https://www.FreeBSD.org/internal/doceng.html">charter</link>. Os committers interessados em contribuir com a documentação devem se familiarizar com o <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/fdp-primer/index.html">Primer do Projeto de Documentação</link>.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Bruce Evans <email>bde@FreeBSD.org</email></term>

	<listitem>
	  <para>Bruce é o Style Police-Meister. Quando você fizer um commit que poderia ter sido feito melhor, Bruce estará lá para lhe contar. Seja grato que alguém está. Bruce também é muito conhecedor dos vários padrões aplicáveis ao FreeBSD.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Glen Barber <email>gjb@FreeBSD.org</email>, Konstantin Belousov <email>kib@FreeBSD.org</email>, Bryan Drewery <email>bdrewery@FreeBSD.org</email>, Marc Fonvieille <email>blackend@FreeBSD.org</email>, Rodney Grimes <email>rgrimes@FreeBSD.org</email>, Xin Li <email>delphij@FreeBSD.org</email>, Hiroki Sato <email>hrs@FreeBSD.org</email>, Gleb Smirnoff <email>glebius@FreeBSD.org</email>, Marius Strobl <email>marius@FreeBSD.org</email>, Robert Watson <email>rwatson@FreeBSD.org</email></term>

	<listitem>
	  <para>Estes são os membros da Equipe de Engenharia de Release <email>re@FreeBSD.org</email>. Essa equipe é responsável por definir os prazos de lançamento e por controlar o processo de release. Durante o congelamento de código, os engenheiros de release têm autoridade final sobre todas as alterações no sistema para qualquer branch que esteja com status de release pendente. Se há algo que você deseja mesclar do FreeBSD-CURRENT para o FreeBSD-STABLE (quaisquer valores que eles possam ter em um dado momento), estas são as pessoas com quem conversar sobre isso.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Gordon Tetlow <email>gordon@FreeBSD.org</email></term>

	<listitem>
	  <para>Gordon Tetlow é o <link xlink:href="@@URL_RELPREFIX@@/security/">Oficial de Segurança do FreeBSD</link> e supervisiona a Equipe Oficial de Segurança <email>security-officer@FreeBSD.org</email>.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Garrett Wollman <email>wollman@FreeBSD.org</email></term>

	<listitem>
	  <para>Se você precisar de conselhos sobre aspectos internos obscuros da rede ou não tiver certeza de alguma mudança potencial no subsistema de rede que você tem em mente, Garrett é alguém com quem conversar. Garrett também é muito conhecedor dos vários padrões aplicáveis ao FreeBSD.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Lista de discussão dos committers do FreeBSD</term>

	<listitem>
	  <para><link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-src-all">svn-src-all</link>, <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-ports-all">svn-ports-all</link> e <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/svn-doc-all">svn-doc-all</link> são as listas de discussão que o sistema de controle de versão usa para enviar mensagens de commit. <emphasis>Nunca</emphasis> envie e-mail diretamente para essas listas. Apenas envie respostas para esta lista quando elas forem curtas e estiverem diretamente relacionadas a um commit.</para>
	</listitem>
      </varlistentry>

      <varlistentry>
	<term>Lista de discussão dos desenvolvedores do FreeBSD</term>

	<listitem>
	  <para>Todos os committers estão inscritos na -developers. Esta lista foi criada para ser um fórum para os problemas da <quote>comunidade</quote> dos committers. Exemplos são a eleição do Core Team, anúncios, etc.</para>

	  <para>A lista de discussão dos desenvolvedores do FreeBSD é para uso exclusivo dos committers do FreeBSD. Para desenvolver o FreeBSD, os committers devem ter a capacidade de discutir abertamente assuntos que serão resolvidos antes de serem anunciados publicamente. As discussões francas sobre o trabalho em andamento não são adequadas para publicação aberta e podem prejudicar o FreeBSD.</para>

	  <para>Espera-se que todos os committers do FreeBSD não publiquem ou encaminhem mensagens da lista de discussão dos desenvolvedores do FreeBSD fora da lista de membros sem a permissão de todos os autores. Violadores serão removidos da lista de discussão dos desenvolvedores do FreeBSD, resultando em uma suspensão dos privilégios de commit. Violações repetidas ou flagrantes podem resultar na revogação permanente dos privilégios de commit.</para>

	  <para><emphasis>Não</emphasis> é a intenção desta lista ser um local para revisões de código ou para realizar qualquer discussão técnica. Na verdade, usá-lo como tal prejudica o Projeto FreeBSD, pois dá uma sensação de uma lista fechada, onde as decisões gerais que afetam toda a comunidade usando o FreeBSD são feitas sem serem <quote>abertas</quote>. Por último, mas não menos importante, <emphasis>nunca, nunca, envie por e-mail a lista de discussão dos desenvolvedores do FreeBSD e faça CC:/BCC: para outra lista do FreeBSD</emphasis>. Nunca, jamais envie email para outra lista de emails do FreeBSD e faça CC:/BCC: para a lista de discussão dos desenvolvedores do FreeBSD. Fazer isso pode diminuir muito os benefícios dessa lista.</para>
	</listitem>
      </varlistentry>
    </variablelist>
  </sect1>

  <sect1 xml:id="ssh.guide">
    <title>Guia de início rápido do SSH</title>

    <procedure>
      <step>
	<para>Se você não quiser digitar sua senha toda vez que usar o <citerefentry><refentrytitle>ssh</refentrytitle><manvolnum> 1</manvolnum></citerefentry>, e você usa chaves para autenticar, o <citerefentry><refentrytitle>ssh-agent</refentrytitle><manvolnum>1</manvolnum></citerefentry> está lá para sua conveniência. Se você quiser usar o <citerefentry><refentrytitle>ssh-agent</refentrytitle><manvolnum>1</manvolnum></citerefentry>, certifique-se de executá-lo antes de executar os outros aplicativos. Os usuários de X, por exemplo, geralmente fazem isso a partir do <filename>.xsession</filename> ou do <filename>.xinitrc</filename>. Veja <citerefentry><refentrytitle>ssh-agent</refentrytitle><manvolnum>1</manvolnum></citerefentry> para detalhes.</para>
      </step>

      <step>
	<para>Gere um par de chaves usando <citerefentry><refentrytitle>ssh-keygen</refentrytitle><manvolnum>1</manvolnum></citerefentry>. O par de chaves será colocado no diretório <filename>$HOME/.ssh/</filename>.</para>

	<important>
	  <para>Somente as chaves <acronym>ECDSA</acronym>, <acronym>Ed25519</acronym> ou <acronym>RSA</acronym> são suportadas.</para>
	</important>
      </step>

      <step>
	<para>Envie sua chave pública (<filename>$HOME/.ssh/id_ecdsa.pub</filename>, <filename>$HOME/.ssh/id_ed25519.pub</filename>, ou <filename>$HOME/.ssh/id_rsa.pub</filename>) para a pessoa que está configurando você como um committer para que ela possa ser colocada em <filename><replaceable>yourlogin</replaceable></filename> in <filename>/etc/ssh-keys/</filename> na  <systemitem>freefall</systemitem>.</para>
      </step>
    </procedure>

    <para>Agora <citerefentry><refentrytitle>ssh-add</refentrytitle><manvolnum>1</manvolnum></citerefentry> pode ser usado para autenticação uma vez por sessão. Ele solicita a frase secreta da chave privada e a armazena no agente de autenticação (<citerefentry><refentrytitle>ssh-agent</refentrytitle><manvolnum>1</manvolnum></citerefentry>). Use o <command>ssh-add -d</command> para remover as chaves armazenadas no agente.</para>

    <para>Teste com um simples comando remoto: <command>ssh freefall.FreeBSD.org ls /usr</command>.</para>

    <para>Para obter mais informações, consulte <package>security/openssh</package>, <citerefentry><refentrytitle>ssh</refentrytitle><manvolnum>1</manvolnum></citerefentry>, <citerefentry><refentrytitle>ssh-add</refentrytitle><manvolnum>1</manvolnum></citerefentry>, <citerefentry><refentrytitle>ssh-agent</refentrytitle><manvolnum>1</manvolnum></citerefentry>, <citerefentry><refentrytitle>ssh-keygen</refentrytitle><manvolnum>1</manvolnum></citerefentry>, e <citerefentry><refentrytitle>scp</refentrytitle><manvolnum>1</manvolnum></citerefentry>.</para>

    <para>Para obter informações sobre como adicionar, alterar ou remover chaves <citerefentry><refentrytitle>ssh</refentrytitle><manvolnum>1</manvolnum></citerefentry>, consulte <uri xlink:href="https://wiki.freebsd.org/clusteradm/ssh-keys">este artigo</uri>.</para>
  </sect1>

  <sect1 xml:id="coverity">
    <title>Disponibilidade do <trademark class="registered">Coverity</trademark> para os Committers do FreeBSD</title>

    <para>Todos os desenvolvedores do FreeBSD podem obter acesso aos resultados da análise do <application>Coverity</application> de todo o software do Projeto FreeBSD. Todos os interessados em obter acesso aos resultados de análise das execuções automatizadas do <application>Coverity</application> podem se inscrever em <uri xlink:href="http://scan.coverity.com/">Coverity Scan</uri>.</para>

    <para>O wiki do FreeBSD inclui um mini-guia para desenvolvedores interessados em trabalhar com os relatórios de análise do <trademark class="registered">Coverity</trademark>: <uri xlink:href="https://wiki.freebsd.org/CoverityPrevent">https://wiki.freebsd.org/CoverityPrevent</uri>. Por favor observe que este mini-guia só pode ser lido por desenvolvedores do FreeBSD, então se você não puder acessar esta página, você terá que pedir a alguém para adicioná-lo à lista de acesso apropriada do Wiki.</para>

    <para>Finalmente, todos os desenvolvedores do FreeBSD que usarão o <trademark class="registered">Coverity</trademark> são sempre encorajados a pedir mais detalhes e informações sobre o uso, publicando quaisquer perguntas na lista de discussão dos desenvolvedores do FreeBSD.</para>
  </sect1>

  <sect1 xml:id="rules">
    <title>A Grande Lista de Regras dos Committers do FreeBSD</title>

    <para>Todos os envolvidos com o projeto FreeBSD devem obedecer ao <emphasis>Código de Conduta</emphasis> disponível em <link xlink:href="@@URL_RELPREFIX@@/internal/code-of-conduct.html">https: //www.FreeBSD.org/internal/code-of-conduct.html</link>. Como committers, vocês formam a face pública do projeto, e como você se comporta tem um impacto vital na percepção pública disso. Este guia expande as partes do <emphasis>Código de Conduta</emphasis> específico para os committers.</para>

    <orderedlist>
      <listitem>
	<para>Respeite outros committers.</para>
      </listitem>

      <listitem>
	<para>Respeite os outros colaboradores.</para>
      </listitem>

      <listitem>
	<para>Discuta qualquer mudança significativa <emphasis>antes de</emphasis> fazer o commit.</para>
      </listitem>

      <listitem>
	<para>Respeite os mantenedores existentes (se listado no campo <varname>MAINTAINER</varname> no <filename>Makefile</filename> ou no <filename>MAINTAINER</filename> no diretório de nível superior).</para>
      </listitem>

      <listitem>
	<para>Deve ser feito o rollback de qualquer alteração contestada enquanto estiver pendente a resolução da disputa, se solicitado por um mantenedor. Alterações relacionadas à segurança podem anular os desejos de um mantenedor, a critério do Oficial de Segurança.</para>
      </listitem>

      <listitem>
	<para>As alterações vão para o FreeBSD-CURRENT antes do FreeBSD-STABLE, a menos que especificamente permitido pelo engenheiro de release ou a menos que elas não sejam aplicáveis ao FreeBSD-CURRENT. Qualquer alteração não trivial ou não urgente que seja aplicável também deve ser permitida no FreeBSD-CURRENT por pelo menos 3 dias antes da fusão, para que tenha tempo suficiente de teste. O engenheiro de release tem a mesma autoridade sobre o branch FreeBSD-STABLE, conforme descrito para o mantenedor na regra #5.</para>
      </listitem>

      <listitem>
	<para>Não brigue em público com outros committers; parece ruim.</para>
      </listitem>

      <listitem>
	<para>Respeite todos os congelamentos de código e leia as listas de discussão <literal>committers</literal> e <literal>developers</literal> em tempo hábil para que você saiba quando um congelamento de código está em vigor.</para>
      </listitem>

      <listitem>
	<para>Em caso de dúvida em qualquer procedimento, pergunte primeiro!</para>
      </listitem>

      <listitem>
	<para>Teste suas alterações antes de fazer o commit.</para>
      </listitem>

      <listitem>
	<para>Não faça commit de nada sob as árvores  <filename>src/contrib</filename>, <filename>src/crypto</filename>, ou <filename>src/sys/contrib</filename> sem aprovação <emphasis>explicita</emphasis> dos respectivos mantenedores.</para>
      </listitem>
    </orderedlist>

    <para>Conforme observado, a quebra de algumas dessas regras pode ser motivo para suspensão ou, mediante ofensa repetida, remoção permanente de privilégios de commit. Membros individuais do core têm o poder de suspender temporariamente os privilégios de commit até que o core como um todo tenha a chance de revisar o problema. No caso de uma <quote>emergência</quote> (um committer causando dano ao repositório), uma suspensão temporária também pode ser feita pelos meisters do repositório. Apenas uma maioria de 2/3 do core tem autoridade para suspender os privilégios de confirmação por mais de uma semana ou para removê-los permanentemente. Essa regra não existe para definir o core como um bando de ditadores cruéis que podem se livrar casualmente de committers como se fossem latas de refrigerante vazias, mas para dar ao projeto uma espécie de fusível de segurança. Se alguém está fora de controle, é importante ser capaz de lidar com isso imediatamente, em vez de ficar paralisado pelo debate. Em todos os casos, um committer cujos privilégios foram suspensos ou revogados tem direito a uma <quote>audiência</quote> com o core, sendo a duração total da suspensão determinada naquele momento. Um committer cujos privilégios são suspensos também pode solicitar uma revisão da decisão após 30 dias e a cada 30 dias a partir de então (a menos que o período total de suspensão seja inferior a 30 dias). Um committer cujos privilégios tenham sido revogados completamente pode solicitar uma revisão após um período de 6 meses. Esta política de revisão é <emphasis>estritamente informal</emphasis> e, em todos os casos, o core reserva-se o direito de agir ou desconsiderar os pedidos de revisão se eles sentirem que a decisão original é a correta.</para>

    <para>Em todos os outros aspectos da operação do projeto, o core é um subconjunto de committers e é limitado pelas <emphasis>mesmas regras</emphasis>. Só porque alguém está no core isso não significa que eles têm permissão especial para sair de qualquer uma das linhas pintadas aqui; os <quote>poderes especiais</quote> do core só são aplicados quando ele age como um grupo, não individualmente. Como indivíduos, os membros da equipe principal são todos committers em primeiro lugar e core em segundo.</para>

    <sect2>
      <title>Detalhes</title>

      <orderedlist>
	<listitem xml:id="respect">
	  <para>Respeite outros committers.</para>

	  <para>Isso significa que você precisa tratar outros committers como os desenvolvedores de grupos pares que eles são. Apesar de nossas tentativas ocasionais de provar o contrário, não se chega a ser um committer por ser estúpido e nada incomoda mais do que ser tratado dessa maneira por um de seus colegas. Se nós sempre sentimos respeito uns pelos outros ou não (e todo mundo tem dias difíceis), nós ainda temos que <emphasis>tratar</emphasis> os outros committers com respeito em todos os momentos, em fóruns públicos e em emails privados.</para>

	  <para>Ser capaz de trabalhar juntos a longo prazo é o maior patrimônio deste projeto, muito mais importante do que qualquer conjunto de alterações no código, e transformar argumentos sobre código em problemas que afetam nossa capacidade de longo prazo de trabalhar harmoniosamente juntos não vale a pena por qualquer estiramento concebível da imaginação.</para>

	  <para>Para cumprir esta regra, não envie e-mails quando estiver com raiva ou de alguma forma se comportar de uma maneira que possa causar uma confrontação desnecessária com os outros. Primeiro acalme-se, então pense em como se comunicar da maneira mais eficaz para convencer as outras pessoas de que o seu lado do argumento está correto, não apenas gaste um pouco de vapor para que você possa se sentir melhor a curto prazo às custas de uma guerra de longa duração. Isso não só é uma <quote>economia de energia</quote> muito ruim, mas demonstrações repetidas de agressão pública que prejudicam nossa capacidade de trabalhar bem juntas serão tratadas severamente pela liderança do projeto e podem resultar na suspensão ou término dos seus privilégios de commit. . A liderança do projeto levará em consideração as comunicações públicas e privadas trazidas a ela. Ela não buscará a divulgação de comunicações privadas, mas levará isso em conta se for oferecida de forma voluntária pelos envolvidos na reclamação.</para>

	  <para>Tudo isso nunca é uma opção que a liderança do projeto goste nem um pouco, mas a união vem em primeiro lugar. Nenhuma quantidade de código ou de bons conselhos vale a pena se trocar desta forma.</para>
	</listitem>

	<listitem>
	  <para>Respeite os outros colaboradores.</para>

	  <para>Você nem sempre foi um committer. Houve uma época em que você era um colaborador. Lembre-se disso em todos os momentos. Lembre-se de como foi tentar obter ajuda e atenção. Não se esqueça de que seu trabalho como colaborador foi muito importante para você. Lembre-se de como foi. Não desencoraje, deprecie ou diminua os colaboradores. Trate-os com respeito. Eles são nossos committers em espera. Eles são tão importantes para o projeto quanto os committers. Suas contribuições são tão válidas e tão importantes quanto as suas. Afinal, você fez muitas contribuições antes de se tornar um committer. Sempre se lembre disso.</para>

	  <para>Considere os pontos levantados sob <xref linkend="respect"/> e aplique-os também aos contribuidores.</para>
	</listitem>

	<listitem>
	  <para>Discuta qualquer mudança significativa <emphasis>antes de</emphasis> fazer o commit.</para>

	  <para>O repositório não é onde as alterações são inicialmente submetidas para correção ou discussão, isso acontece primeiro nas listas de discussão ou pelo uso do serviço do Phabricator. O commit só acontecerá quando algo semelhante a um consenso for alcançado. Isso não significa que a permissão seja necessária antes de corrigir todos os erros óbvios de sintaxe ou erros ortográficos na página manual, significa apenas que é bom desenvolver uma ideia de quando a mudança proposta não é tão óbvia e requer algum feedback primeiro. As pessoas realmente não se importam com mudanças radicais se o resultado for algo claramente melhor do que antes, elas simplesmente não gostam de ser <emphasis>surpreendidas</emphasis> por essas mudanças. A melhor maneira de certificar-se de que as coisas estão no caminho certo é ter o código revisado por um ou mais committers.</para>

	  <para>Em caso de dúvida, peça por uma revisão!</para>
	</listitem>

	<listitem>
	  <para>Respeite os mantenedores existentes, se listados.</para>

	  <para>Muitas partes do FreeBSD não são <quote>possuídas</quote> no sentido de que qualquer indivíduo específico irá pular e gritar se você enviar uma alteração para a <quote>sua</quote> área, mas ainda vale a pena verificar primeiro. Uma convenção que usamos é colocar uma linha de mantenedor no <filename>Makefile</filename> para qualquer pacote ou subárvore que esteja sendo mantido ativamente por uma ou mais pessoas; veja <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/developers-handbook/policies.html">https://www.FreeBSD.org/doc/en_US.ISO8859-1/books/developers-handbook/policies.html</link> para documentação sobre isso. Nas seções de código para quais existirem vários mantenedores, os commits nas áreas afetadas por um mantenedor precisarão ser revisados por pelo menos um outro mantenedor. Nos casos em que o <quote>maintainer-ship</quote> de algo não está claro, consulte os logs do repositório para os arquivos em questão e veja se alguém está trabalhando recentemente ou predominantemente naquela área.</para>
	</listitem>

	<listitem>
	  <para>Deve ser feito o rollback de qualquer alteração contestada enquanto estiver pendente a resolução da disputa, se solicitado por um mantenedor. Alterações relacionadas à segurança podem anular os desejos de um mantenedor, a critério do Oficial de Segurança.</para>

	  <para>Isso pode ser difícil de engolir em momentos de conflito (quando cada lado está convencido de que eles estão certos, é claro), mas um sistema de controle de versão torna desnecessário ter uma disputa em andamento quando é muito mais fácil simplesmente reverter a mudança que gerou a disputa, faça com que todos se acalmem novamente e tente descobrir qual é a melhor maneira de proceder. Se a mudança acaba por ser a melhor coisa depois de tudo, ela pode ser facilmente trazida de volta. Se ela não for, os usuários não terão que viver com a mudança falsa na árvore enquanto todos estavam ocupados debatendo seus méritos. Pessoas <emphasis>muito</emphasis> raramente pedem rollbacks no repositório, uma vez que a discussão geralmente expõe mudanças ruins ou controversas antes que o commit aconteça, mas em raras ocasiões o rollback deve ser feito sem discussão para que possamos entrar imediatamente da discussão do tópico para descobrirmos se ele era adequado ou não.</para>
	</listitem>

	<listitem>
	  <para>As alterações vão para o FreeBSD-CURRENT antes do FreeBSD-STABLE, a menos que especificamente permitido pelo engenheiro de release ou a menos que elas não sejam aplicáveis ao FreeBSD-CURRENT. Qualquer alteração não trivial ou não urgente que seja aplicável também deve ser permitida no FreeBSD-CURRENT por pelo menos 3 dias antes da fusão, para que possa ter tempo suficiente de teste. O engenheiro de lançamento tem a mesma autoridade sobre o branch FreeBSD-STABLE, conforme descrito na regra #5.</para>

	  <para>Este é outro problema do tipo <quote>não discuta sobre isso</quote>, já que é o engenheiro de release quem é o responsável final (e é espancado) se uma mudança for ruim. Por favor, respeite isso e dê ao engenheiro de release a sua total cooperação quando se trata do branch FreeBSD-STABLE. O gerenciamento do FreeBSD-STABLE pode frequentemente parecer excessivamente conservador para o observador casual, mas também deve ter em mente o fato de que o conservadorismo deve ser a marca do FreeBSD-STABLE e regras diferentes aplicam-se lá do que no FreeBSD-CURRENT. Também não há sentido em fazer com que o FreeBSD-CURRENT seja um campo de testes se as alterações forem mescladas no FreeBSD-STABLE imediatamente. Mudanças precisam de uma chance de serem testadas pelos desenvolvedores do FreeBSD-CURRENT, então espere algum tempo antes da fusão, a menos que a correção do FreeBSD-STABLE seja crítica, sensível ao tempo ou óbvia a ponto de tornar desnecessário testes adicionais (correções ortográficas nas páginas de manual) correções de erros / erros de digitação, etc.) Em outras palavras, aplique o bom senso.</para>

	  <para>Mudanças nas branches de segurança (por exemplo, <literal>releng/9.3</literal>) devem ser aprovadas por um membro da Equipe de Segurança <email>security-officer@FreeBSD.org</email>, ou em alguns casos , por um membro da Equipe de Engenharia de Release<email>re@FreeBSD.org</email>.</para>
	</listitem>

	<listitem>
	  <para>Não brigue em público com outros committers; parece ruim.</para>

	  <para>Este projeto tem uma imagem pública a defender e essa imagem é muito importante para todos nós, especialmente se quisermos continuar a atrair novos membros. Haverá ocasiões em que, apesar das melhores tentativas de autocontrole de todos, os ânimos se perdem e palavras de raiva são trocadas. A melhor coisa que pode ser feita nesses casos é minimizar os efeitos disso até que todos tenham esfriado. Não divulgue palavras iradas em público e não encaminhe correspondências privadas ou outras comunicações privadas para listas publicas de discussão, aliases de mensagens, canais de mensagens instantâneas ou sites de mídia social. O que as pessoas dizem um-para-um é frequentemente muito menos revestido de açúcar do que o que eles diriam em público, e tais comunicações, portanto, não têm lugar lá - elas servem apenas para inflamar uma situação já ruim. Se a pessoa que enviou um flame-o-grama tiver pelo menos a elegância de enviá-lo em particular, então tenha a elegância de mantê-lo em sigilo. Se você acha que está sendo tratado injustamente por outro desenvolvedor e está lhe causando angústia, traga o assunto para o core em vez de torná-lo público. O Core fará o seu melhor para atuar como pacificadores e trazer as coisas de volta para a sanidade. Nos casos em que a disputa envolve uma alteração na base de código e os participantes não parecem estar chegando a um acordo amigável, o core pode nomear um terceiro mutuamente aceitável para resolver a disputa. Todas as partes envolvidas devem então concordar em se comprometer com a decisão tomada por este terceiro.</para>
	</listitem>

	<listitem>
	  <para>Respeite todos os congelamentos de código e leia atempadamente a lista de discussão <literal>committers</literal> e <literal>developers</literal> para saber quando um congelamento de código está em vigor.</para>

	  <para>Efetuar o commit de alterações não aprovadas durante um congelamento de código é um erro realmente grande e espera-se que os committers se mantenham atualizados sobre o que está acontecendo antes de entrar depois de uma longa ausência e fazer o commit de 10 megabytes de material acumulado. As pessoas que abusarem disso regularmente terão seus privilégios de commit suspensos até que eles voltem do FreeBSD Happy Reeducation Camp que mantemos na Groenlândia.</para>
	</listitem>

	<listitem>
	  <para>Em caso de dúvida em qualquer procedimento, pergunte primeiro!</para>

	  <para>Muitos erros são cometidos porque alguém está com pressa e apenas assume que sabe a forma certa para fazer alguma coisa. Se você não fez isso antes, é bem provável que você não conheça realmente a maneira como fazemos as coisas e realmente precise perguntar primeiro ou você vai se envergonhar completamente em público. Não há vergonha em perguntar <quote>como diabos eu faço isso?</quote> Já sabemos que você é uma pessoa inteligente; caso contrário, você não seria um committer.</para>
	</listitem>

	<listitem>
	  <para>Teste suas alterações antes de fazer o commit.</para>

	  <!-- XXX Needs update re sparc64 + pc98
	    Also, needs more details on which machines are available for testing
	  -->
	  <para>Isso pode parecer óbvio, mas se realmente fosse tão óbvio, provavelmente não veríamos tantos casos de pessoas claramente não fazendo isso. Se suas mudanças são para o kernel, certifique-se de que você ainda pode compilar o GENERIC e o LINT. Se as suas alterações estiverem em outro lugar, certifique-se de que você ainda pode fazer um "make world". Se as alterações forem feitas em uma branch, certifique-se de que seu teste ocorra com uma máquina que esteja executando esse código. Se você tiver uma alteração que também possa quebrar outra arquitetura, verifique e teste em todas as arquiteturas suportadas. Por favor, consulte a <link xlink:href="https://www.FreeBSD.org/internal/">Página Interna do FreeBSD</link> para obter uma lista dos recursos disponíveis. À medida que outras arquiteturas são adicionadas à lista de plataformas suportadas do FreeBSD, os recursos de teste compartilhados apropriados serão disponibilizados.</para>
	</listitem>

	<listitem>
	  <para>Não faça o commit de nada sob as árvores <filename>src/contrib</filename>, <filename>src/crypto</filename>, e <filename>src/sys/contrib</filename> sem a aprovação <emphasis>explicita</emphasis> dos respectivos mantenedores.</para>

	  <para>As árvores mencionadas acima são para software contribuído geralmente importado para um branch de fornecedor. fazer o commit de algo lá, mesmo que não retire o arquivo branch do fornecedor, pode causar dores de cabeça desnecessárias para os responsáveis pela manutenção desse software em particular. Assim, a menos que você tenha aprovação <emphasis>explícita</emphasis> do mantenedor (ou você é o mantenedor), <emphasis>não</emphasis> faça commit lá!</para>

	  <!-- FIXME: this paragraph should be rewritten -->
	  <para>Por favor note que isto não significa que você não deve tentar melhorar o software em questão; você ainda é mais que bem-vindo para fazer isso. O ideal é enviar seus patches ao fornecedor. Se suas alterações são específicas para o FreeBSD, fale com o mantenedor; eles podem estar dispostos a aplicá-los localmente. Mas faça o que fizer, <emphasis>não</emphasis> faça o commit lá você mesmo!</para>

	  <para>Entre em contato com o Core Team <email>core@FreeBSD.org</email> se você quiser assumir a manutenção de uma parte não mantida da árvore.</para>
	</listitem>
      </orderedlist>
    </sect2>

    <sect2>
      <title>Política sobre Várias Arquiteturas</title>

      <para>O FreeBSD adicionou ports para várias novas arquiteturas durante os ciclos de release recentes e realmente não é mais um sistema operacional centrado em <trademark>i386</trademark>. Em um esforço para tornar mais fácil manter o FreeBSD portátil entre as plataformas que suportamos, o core desenvolveu este mandato:</para>

      <blockquote>
	<para>Nossa plataforma de referência de 32 bits é a i386 e a nossa plataforma de referência de 64 bits é amd64. O principal trabalho de design (incluindo as principais alterações da API e da ABI) deve ser comprovado em pelo menos uma plataforma de 32 bits e pelo menos uma de 64 bits, preferencialmente nas plataformas de referência primária, antes que o seu commit possa ser feito na árvore de fontes.</para>
      </blockquote>

      <para>As plataformas i386 e amd64 foram escolhidas por estarem mais prontamente disponíveis para os desenvolvedores e como representantes dos mais diversos designs de processador e de sistema - "big versus little endian", registrador de arquivos versus pilha de registro, diferentes implementações de DMA e cache, tabelas de página de hardware versus gerenciamento de TLB de software, etc.</para>

      <para>Continuaremos a reavaliar essa política, já que o custo e a disponibilidade das plataformas de 64 bits mudam.</para>

      <para>Os desenvolvedores também devem estar cientes da nossa Política de Tier para o suporte de longo prazo das arquiteturas de hardware. As regras aqui pretendem fornecer orientação durante o processo de desenvolvimento e são diferentes dos requisitos de recursos e arquiteturas listados nessa seção. As regras de Tier para suporte de recursos em arquiteturas no momento da release são mais rigorosas do que as regras para alterações durante o processo de desenvolvimento.</para>
    </sect2>

    <sect2>
      <title>Outras Sugestões</title>

      <para>Ao enviar alterações na documentação, use um verificador ortográfico antes de efetuar o commit. Para todos os documentos XML, verifique se as diretivas de formatação estão corretas executando o <command>make lint</command> e o <package>textproc/igor</package>.</para>

      <para>Para as páginas de manual, execute o <package>sysutils/manck</package> e o <package>textproc/igor</package> na página de manual para verificar se todas as referências cruzadas e referências de arquivo estão corretas e se a página man possui todos os <varname>MLINK</varname>s apropriados instalados.</para>

      <para>Não misture correções de estilo com novas funcionalidades. Uma correção de estilo é qualquer alteração que não modifique a funcionalidade do código. Misturar as alterações ofusca a mudança de funcionalidade ao solicitar a comparação das diferenças entre as revisões, o que pode ocultar quaisquer novos bugs. Não inclua alterações de espaço em branco com alterações de conteúdo nos commits para <filename>doc/</filename>. A desordem extra nos diffs torna o trabalho dos tradutores muito mais difícil. Em vez disso, faça qualquer alteração de estilo ou espaço em branco em commits separados e que sejam claramente rotuladas como tal na mensagem de commit.</para>
    </sect2>

    <sect2>
      <title>Recursos Obsoletos (Deprecated)</title>

      <para>Quando for necessário remover uma funcionalidade de software do sistema básico, siga estas diretrizes sempre que possível:</para>

      <orderedlist>
	<listitem>
	  <para>Uma menção é feita na página de manual e, possivelmente, nas notas de versão que a opção, o utilitário ou a interface estão obsoletos. O uso do recurso obsoleto gera um aviso.</para>
	</listitem>

	<listitem>
	  <para>A opção, utilitário ou interface é preservada até a próxima release principal (ponto zero).</para>
	</listitem>

	<listitem>
	  <para>A opção, o utilitário ou a interface são removidos e não são mais documentados. Agora está obsoleto. Também é geralmente uma boa ideia anotar sua remoção nas notas de release.</para>
	</listitem>
      </orderedlist>
    </sect2>

    <sect2>
      <title>Privacidade e Confidencialidade</title>

      <orderedlist>
	<listitem>
	  <para>A maioria dos negócios do FreeBSD é feita em público.</para>

	  <para>O FreeBSD é um projeto <emphasis>aberto</emphasis>. O que significa que não só alguém pode usar o código-fonte, mas que a maior parte do processo de desenvolvimento está aberto ao escrutínio público.</para>
	</listitem>

	<listitem>
	  <para>Certos assuntos delicados devem permanecer privados ou mantidos sob embargo.</para>

	  <para>Infelizmente, não pode haver transparência completa. Como desenvolvedor do FreeBSD, você terá um certo grau de acesso privilegiado à informação. Consequentemente, espera-se que você respeite certos requisitos de confidencialidade. Às vezes, a necessidade de confidencialidade vem de colaboradores externos ou tem um limite de tempo específico. Principalmente, porém, é uma questão de não liberar comunicações privadas.</para>
	</listitem>

	<listitem>
	  <para>O oficial de segurança tem controle exclusivo sobre a liberação de alertas de segurança.</para>

	  <para>Onde existem problemas de segurança que afetam muitos sistemas operacionais diferentes, o FreeBSD frequentemente depende do acesso antecipado para poder preparar alertas para liberação coordenada. A menos que se possa confiar nos desenvolvedores do FreeBSD para manter a segurança, esse acesso antecipado não será disponibilizado. O Oficial de Segurança é responsável por controlar o acesso pré-lançamento às informações sobre vulnerabilidades, e por definir o momento de liberação de todos os alertas. Ele pode solicitar ajuda sob condição de confidencialidade de qualquer desenvolvedor com conhecimento relevante para preparar as correções de segurança.</para>
	</listitem>

	<listitem>
	  <para>As comunicações com o Core são mantidas confidenciais pelo tempo que for necessário.</para>

	  <para>As comunicações para o core serão inicialmente tratadas como confidenciais. Eventualmente, no entanto, a maioria dos negócios do Core serão resumidos nos relatórios mensais ou trimestrais do core. Cuidado será tomado para evitar a divulgação de detalhes sensíveis. Os registros de alguns assuntos particularmente sensíveis podem não ser relatados e serão mantidos apenas nos arquivos privados do Core.</para>
	</listitem>

	<listitem>
	  <para>Acordos de não divulgação (NDA) podem ser necessários para o acesso a determinados dados comercialmente sensíveis.</para>

	  <para>O acesso a determinados dados comercialmente sensíveis só pode estar disponível sob um Contrato de Não Divulgação. A equipe jurídica da Fundação FreeBSD deve ser consultado antes de qualquer acordo vinculativo ser firmado.</para>
	</listitem>

	<listitem>
	  <para>Comunicações privadas não devem ser tornadas públicas sem permissão.</para>

	  <para>Além dos requisitos específicos acima, há uma expectativa geral de não publicar comunicações privadas entre desenvolvedores sem o consentimento de todas as partes envolvidas. Peça permissão antes de encaminhar uma mensagem para uma lista de discussão pública, ou publicá-la em um fórum ou site que possa ser acessado por outros que não os correspondentes originais.</para>
	</listitem>

	<listitem>
	  <para>As comunicações em canais de acesso restrito ou somente do projeto devem ser mantidas em sigilo.</para>

	  <para>Semelhantemente às comunicações pessoais, certos canais de comunicação interna, incluindo as listas de discussão dos Committers do FreeBSD e os canais de IRC de acesso restrito, são considerados comunicações privadas. A permissão é necessária para publicar material dessas fontes.</para>
	</listitem>

	<listitem>
	  <para>O Core pode aprovar a publicação.</para>

	  <para>Quando for impraticável obter permissão devido ao número de correspondentes ou quando a permissão para publicar for injustificadamente retida, a Core poderá aprovar a liberação de tais assuntos privados que mereçam uma publicação mais geral.</para>
	</listitem>
      </orderedlist>
    </sect2>
  </sect1>

  <sect1 xml:id="archs">
    <title>Suporte para Várias Arquiteturas</title>

    <para>O FreeBSD é um sistema operacional altamente portátil destinado a funcionar em muitos tipos diferentes de arquiteturas de hardware. Manter uma separação clara entre o código dependente de máquina (MD) e independente de máquina (MI), além de minimizar o código MD, é uma parte importante da nossa estratégia de permanecer ágil em relação às tendências atuais de hardware. Cada nova arquitetura de hardware suportada pelo FreeBSD aumenta substancialmente o custo de manutenção de código, de suporte do toolchain e de engenharia de release. Também aumenta drasticamente o custo do teste efetivo das alterações no kernel. Como tal, há uma forte motivação para diferenciar as classes de suporte para as várias arquiteturas, permanecendo forte em algumas arquiteturas chaves que são vistas como o <quote>público-alvo</quote> do FreeBSD.</para>

    <sect2>
      <title>Declaração de Intenção Geral</title>

      <para>O projeto FreeBSD tem como objetivo a "qualidade comercial de  produção off-the-shelf (COTS) para workstations, servidores e sistemas embarcados de ponta". Mantendo o foco em um conjunto restrito de arquiteturas de interesse nesses ambientes, o Projeto FreeBSD é capaz de manter altos níveis de qualidade, estabilidade e desempenho, bem como de minimizar a carga de várias equipes de suporte no projeto, como a equipe de ports, a equipe de documentação, o oficial de segurança e as equipes de engenharia de release. A diversidade no suporte de hardware amplia as opções para os consumidores do FreeBSD oferecendo novos recursos e oportunidades de uso (como suporte a CPUs de 64 bits, uso em ambientes embarcados, etc.), mas esses benefícios devem sempre ser cuidadosamente considerados em termos do custo de manutenção no mundo real associado ao suporte adicional à plataforma.</para>

      <para>O projeto FreeBSD diferencia as plataformas em quatro níveis. Cada tier inclui uma especificação dos requisitos para que uma arquitetura esteja nesse nível, além de especificar as obrigações dos desenvolvedores em relação à plataforma. Além disso, uma política é definida em relação às circunstâncias necessárias para alterar o tier de uma arquitetura.</para>
    </sect2>

    <sect2>
      <title>Tier 1: Arquiteturas Suportadas Completamente</title>

      <para>Plataformas de nível 1 são completamente suportadas pelas equipes de oficiais de segurança, engenharia de release e equipe de manutenção do toolchain. Novos recursos adicionados ao sistema operacional devem ser totalmente funcionais em todas as arquiteturas Tier 1 para cada release (recursos que são inerentemente específicos da arquitetura, como suporte a drivers de dispositivo de hardware, podem estar isentos desse requisito). Em geral, todas as plataformas de Tier 1 devem ter suporte a automação compilação e teste no cluster do FreeBSD.org ou facilmente disponíveis para todos os desenvolvedores. Plataformas embarcadas podem substituir um emulador disponível no cluster do FreeBSD.org por hardware real.</para>

      <para>Espera-se que as arquiteturas de Tier 1 estejam com Qualidade de Produção em relação a todos os aspectos do sistema operacional FreeBSD, incluindo ambientes de instalação e desenvolvimento.</para>

      <para>Espera-se que as arquiteturas de Tier 1 sejam completamente integradas na árvore de código e tenham todos os recursos necessários para produzir um sistema inteiro relevante para essa arquitetura alvo. Arquiteturas de Tier 1 geralmente têm pelo menos 6 desenvolvedores ativos.</para>

      <para>Espera-se que as arquiteturas de Tier 1 sejam totalmente suportadas pelo sistema de ports. Todos os ports devem ser compilados em uma plataforma de Tier 1 ou ter os filtros apropriados para evitar que sejam compilados nas inadequadas. O sistema de empacotamento deve suportar todas as arquiteturas de Tier 1. Para garantir o status de Tier 1 de uma arquitetura, os proponentes dessa arquitetura devem mostrar que todos os pacotes relevantes podem ser compilados nessa plataforma.</para>

      <para>As arquiteturas embarcadas de Tier 1 devem ser capazes de criar pacotes cross-build em pelo menos uma outra arquitetura de Tier 1. Os pacotes devem ser os mais relevantes para a plataforma, mas podem ser um subconjunto não vazio daqueles que são compilados nativamente.</para>

      <para>As arquiteturas de Tier 1 devem ser totalmente documentadas. Todas as operações básicas precisam ser cobertas pelo manual ou por outros documentos. Toda a documentação de integração relevante também deve ser integrada na árvore ou estar prontamente disponível.</para>

      <para>As plataformas atuais Tier 1 são i386 e amd64.</para>
    </sect2>

    <sect2>
      <title>Tier 2: Arquiteturas em Desenvolvimento</title>

      <para>As plataformas de Tier 2 não são suportadas pelas equipes do oficial de segurança e pelas as equipes de engenharia de release. Os mantenedores de plataformas são responsáveis pelo suporte de toolchain na árvore. Espera-se que os mantenedores de toolchain trabalhem com os mantenedores da plataforma para refinar essas mudanças. Os principais novos componentes de toolchain têm permissão para quebrar o suporte para arquiteturas de Tier 2 se as alterações locais do FreeBSD não tiverem sido incorporadas ao upstream. Espera-se que os mantenedores de toolchain forneçam uma rápida revisão de quaisquer alterações propostas e não possam bloquear, por meio de sua inação, as mudanças que vão para a árvore. Novos recursos adicionados ao FreeBSD devem ser viáveis de implementar nessas plataformas, mas uma implementação não é necessária antes que o recurso possa ser adicionado à árvore de códigos fonte do FreeBSD. Novos recursos que podem ser difíceis de implementar em arquiteturas de Tier 2 devem fornecer um meio de desabilitá-los nessas arquiteturas. Pode se fazer o commit de uma  implementação de uma arquitetura de Tier 2 na árvore principal do FreeBSD, desde que não interfira com o trabalho de produção nas plataformas de Tier 1, ou substancialmente com outras plataformas de Tier 2. Antes que uma plataforma Tier 2 possa ser adicionada à árvore de código fonte do FreeBSD, a plataforma deve ser capaz de inicializar em modo multiusuário em hardware real. Geralmente, deve haver pelo menos três desenvolvedores ativos trabalhando na plataforma.</para>

      <para>As arquiteturas de Tier 2 geralmente são sistemas destinados ao suporte Tier 1, mas que ainda estão em desenvolvimento. As arquiteturas que atingem o fim da vida útil também podem ser movidas do status de Tier 1 para o status de Tier 2 à medida que a disponibilidade de recursos para continuar a manter o sistema em um estado de Qualidade de Produção diminui. Arquiteturas de nicho bem suportadas também podem ser de Tier 2.</para>

      <para>As arquiteturas Tier 2 possuem suporte básico para elas, integradas à infraestrutura de ports. Elas podem ter suporte a cross-build adicionado, a critério do portmgr. Alguns ports devem ser compilados nativamente em pacotes se o sistema de pacotes suportar essa arquitetura. Se não estiver integrado no sistema base, algumas correções externas para a arquitetura dos ports devem ser disponibilizados.</para>

      <para>As arquiteturas Tier 2 podem ser integradas no Handbook do FreeBSD. As noções básicas sobre como obter um sistema em execução devem ser documentadas, embora não necessariamente para cada única placa ou sistema suportado por uma arquitetura Tier 2. A lista de hardware suportada deve existir e ser relativamente recente. Ela deve ser integrado na documentação do FreeBSD.</para>

      <para>As plataformas atuais Tier 2 são arm, arm64, ia64 (através do FreeBSD 10), mips, pc98 (através do FreeBSD 11), powerpc e sparc64.</para>
    </sect2>

    <sect2>
      <title>Tier 3: Arquiteturas Experimentais</title>

      <para>As plataformas Tier 3 não são suportadas pelo oficial de segurança e nem pelas equipes de engenharia release. A critério dos mantenedores do toolchain, elas podem ser suportados no toolchain. As plataformas Tier 3 são arquiteturas nos estágios iniciais de desenvolvimento, para plataformas de hardware fora do mainstream, ou que são consideradas sistemas legados que provavelmente não serão vistas um uso futuro amplo. O suporte inicial para plataformas Tier 3 é trabalhado em repositórios externos de SCM. A transição para o subversion do FreeBSD ocorre depois que a plataforma inicializa em modo multiusuário em hardware real; o compartilhamento via subversion é necessário para uma exposição mais ampla; e vários desenvolvedores estão trabalhando ativamente na plataforma. As plataformas que fazem a transição para o status de Tier 3 podem ser removidas da árvore se não forem mais suportadas ativamente pela comunidade de desenvolvedores do FreeBSD, a critério do engenheiro de release.</para>

      <para>As plataformas Tier 3 podem ter suporte a ports, integrados ou externos, mas não exigem isso.</para>

      <para>Plataformas Tier 3 devem ter as noções básicas documentadas de como construir um kernel e como inicializá-lo em pelo menos um ambiente de hardware ou ambiente de emulação alvo. Esta documentação não precisa ser integrada à árvore do FreeBSD.</para>

      <para>As plataformas atuais Tier 3 é a riscv.</para>
    </sect2>

    <sect2>
      <title>Tier 4: Arquiteturas Não Suportadas</title>

      <para>Os sistemas Tier 4 não são suportados de nenhuma forma pelo projeto.</para>

      <para>Todos os sistemas não classificados em um nível de suporte são sistemas Tier 4. A plataforma ia64 está em transição para o status de Tier 4 no FreeBSD 11. A plataforma pc98 está em transição para o status de Tier 4 no FreeBSD 12.</para>
    </sect2>

    <sect2>
      <title>Política para Alteração do Tier de uma Arquitetura</title>

      <para>Os sistemas só podem ser movidos de uma camada para outra por meio da aprovação do Core Team do FreeBSD, que deve tomar essa decisão em colaboração com as equipes de segurança, engenharia de release e manutenção do toolchain.</para>
    </sect2>
  </sect1>

  <sect1 xml:id="ports">
    <title>FAQ específico dos Ports</title>

    <qandaset>
      <qandadiv xml:id="ports-qa-adding">
	<title>Adicionando um Novo Port</title>

	<qandaentry xml:id="ports-qa-add-new">
	  <question>
	    <para>Como eu adiciono um novo port?</para>
	  </question>

	  <answer>
	    <para>Primeiro, por favor leia a seção sobre cópias do repositório.</para>

	    <para>A maneira mais fácil de adicionar um novo port é o script <command>addport</command> localizado no diretório <filename>ports/Tools/scripts</filename>. Ele adiciona um port do diretório especificado, determinando a categoria automaticamente a partir do <filename>Makefile</filename> do port. Também adiciona uma entrada à categoria do <filename>Makefile</filename> do port. Foi escrito por Michael Haro <email>mharo@FreeBSD.org</email>, Will Andrews <email>will@FreeBSD.org</email> e Renato Botelho <email>garga@FreeBSD.org</email>. Ao enviar perguntas sobre este script para a <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">lista de discussão dos ports do FreeBSD</link>, por favor também copie Chris Rees <email>crees@FreeBSD.org</email>, o mantenedor atual.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-add-new-extra">
	  <question>
	    <para>Existe qualquer outra coisa que preciso saber quando adiciono um novo port?</para>
	  </question>

	  <answer>
	    <para>Verifique o port, de preferência para garantir que ele seja compilado e empacotado corretamente. Essa é a seqüência recomendada:</para>

	    <screen><prompt>#</prompt> <userinput>make install</userinput>
<prompt>#</prompt> <userinput>make package</userinput>
<prompt>#</prompt> <userinput>make deinstall</userinput>
<prompt>#</prompt> <userinput>pkg add <replaceable>package you built above</replaceable></userinput>
<prompt>#</prompt> <userinput>make deinstall</userinput>
<prompt>#</prompt> <userinput>make reinstall</userinput>
<prompt>#</prompt> <userinput>make package</userinput></screen>

	    <para>O <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/porters-handbook/index.html">Manual de Porters</link> contém instruções mais detalhadas.</para>

	    <para>Use o <citerefentry vendor="ports"><refentrytitle>portlint</refentrytitle><manvolnum>1</manvolnum></citerefentry> para verificar a sintaxe do port. Você não precisa necessariamente eliminar todos os avisos, mas certifique-se de ter corrigido os mais simples.</para>

	    <para>Se o port veio de um remetente que não contribuiu para o projeto antes, adicione o nome dessa pessoa a seção  <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/articles/contributors/contrib-additional.html">Colaboradores Adicionais</link> da Lista de Colaboradores do FreeBSD.</para>

	    <para>Feche o PR se o port entrou como um PR. Para fechar um PR, mude o estado para <literal>Issue Resolved</literal> e a resolução como <literal>Fixed</literal>.</para>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-removing">
	<title>Removendo um port existente</title>

	<qandaentry xml:id="ports-qa-remove-one">
	  <question>
	    <para>Como faço para remover um port existente?</para>
	  </question>

	  <answer>
	    <para>Primeiro, por favor leia a seção sobre cópias do repositório. Antes de remover o port, você deve verificar se não há outros ports dependendo dele.</para>

	    <itemizedlist>
	      <listitem>
		<para>Certifique-se de que não haja dependência do port na coleção de ports:</para>

		<itemizedlist>
		  <listitem>
		    <para>O PKGNAME do port aparece exatamente em uma linha em um arquivo INDEX recente.</para>
		  </listitem>

		  <listitem>
		    <para>Nenhum outro port contém qualquer referência ao diretório do port ou ao seu PKGNAME em seus Makefiles.</para>

		    <tip>
		      <para>Ao usar o <application>Git</application>, considere o uso do <command>git grep</command>, ele é muito mais rápido que o <command>grep -r</command>.</para>
		    </tip>
		  </listitem>
		</itemizedlist>
	      </listitem>

	      <listitem>
		<para>Em seguida, remova o port:</para>

		<procedure>
		  <step>
		    <para>Remova os arquivos e o diretório do port com <command>svn remove</command>.</para>
		  </step>

		  <step>
		    <para>Remova a entrada <varname>SUBDIR</varname> do port listado no diretório pai do <filename>Makefile</filename>.</para>
		  </step>

		  <step>
		    <para>Adicione uma entrada em <filename>ports/MOVED</filename>.</para>
		  </step>

		  <step>
		    <para>Procure entradas em <filename>ports/security/vuxml/vuln.xml</filename> e ajuste-as de acordo. Em particular, verifique os pacotes anteriores com o novo nome e qual versão poderia incluir o novo port.</para>
		  </step>

		  <step>
		    <para>Remova o port de <filename>ports/LEGAL</filename> se ele estiver lá.</para>
		  </step>
		</procedure>
	      </listitem>
	    </itemizedlist>

	    <para>Alternativamente, você pode usar o script <command>rmport</command>, a partir de <filename>ports/Tools/scripts</filename>. Este roteiro foi escrito por Vasil Dimov <email>vd@FreeBSD.org</email>. Ao enviar perguntas sobre este script para a <link xlink:href="http://lists.FreeBSD.org/mailman/listinfo/freebsd-ports">lista de discussão dos ports do FreeBSD</link>, por favor também copie Chris Rees <email>crees@FreeBSD.org</email>, o mantenedor atual.</para>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-re-adding">
	<title>Adicionando Novamente um Port que foi Removido</title>

	<qandaentry xml:id="ports-qa-resurrect">
	  <question>
	    <para>Como faço para adicionar novamente um port que foi removido?</para>
	  </question>

	  <answer>
	    <para>Isto é essencialmente o contrário de deletar um port.</para>

	    <important>
	      <para>Não use <command>svn add</command> para adicionar o port. Siga esses passos. Se eles não estiverem claros, ou não estiverem funcionando, peça ajuda, não execute apenas o <command>svn add</command> para o port.</para>
	    </important>

	    <procedure>
	      <step>
		<para>Descubra quando o port foi removido. Use esta <link xlink:href="https://people.FreeBSD.org/~crees/removed_ports/index.xml">lista</link>, ou procure o port em <link xlink:href="http://www.freshports.org/">freshports</link> e copie a última revisão viva do porto:</para>

		<screen><prompt>%</prompt> <userinput>cd /usr/ports/<replaceable>category</replaceable></userinput>
<prompt>%</prompt> <userinput>svn cp 'svn+ssh://repo.freebsd.org/ports/head/<replaceable>category</replaceable>/<replaceable>portname</replaceable>/@<replaceable>XXXXXX</replaceable>' <replaceable>portname</replaceable></userinput></screen>

		<para>Escolha a revisão que é justamente antes da remoção. Por exemplo, se a revisão em que foi removida for <literal>269874</literal>, use <literal>269873</literal>.</para>

		<para>Também é possível especificar uma data. Nesse caso, escolha uma data antes da remoção, mas depois do último commit para o port.</para>

		<screen><prompt>%</prompt> <userinput>cd /usr/ports/<replaceable>category</replaceable></userinput>
<prompt>%</prompt> <userinput>svn cp 'svn+ssh://repo.freebsd.org/ports/head/<replaceable>category</replaceable>/<replaceable>portname</replaceable>/@{<replaceable>YYYY-MM-DD</replaceable>}' <replaceable>portname</replaceable></userinput></screen>
	      </step>

	      <step>
		<para>Faça as alterações necessárias para que o port funcione novamente. Se ele foi excluído porque os distfiles não estão mais disponíveis, seja voluntário para hospedar os distfiles ou encontre outra pessoa para fazê-lo.</para>
	      </step>

	      <step>
		<para>Se alguns arquivos foram adicionados, ou foram removidos durante o processo de ressurreição, use o <command>svn add</command> ou <command>svn remove</command> para certificar-se de que todos os arquivos no port serão aplicados no commit.</para>
	      </step>

	      <step>
		<para>Restaure o <varname>SUBDIR</varname> do port listado no diretório pai do <filename>Makefile</filename>, mantendo as entradas ordenadas.</para>
	      </step>

	      <step>
		<para>Exclua a entrada do port de <filename>ports/MOVED</filename>.</para>
	      </step>

	      <step>
		<para>Se o port tiver uma entrada em <filename>ports/LEGAL</filename>, a restaure.</para>
	      </step>

	      <step>
		<para>Execute o <command>svn commit</command> para estas mudanças, de preferência no primeiro passo.</para>
	      </step>
	    </procedure>

	    <tip>
	      <para>O script <command>addport</command> mencionado em <xref linkend="ports-qa-adding"/> agora detecta quando o port a ser adicionado existia anteriormente e tenta manipular todos automaticamente, exceto o <filename>ports/LEGAL</filename>.</para>
	    </tip>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-repocopies">
	<title>Cópias de Repositório</title>

	<qandaentry xml:id="ports-qa-repocopy-when">
	  <question>
	    <para>Quando precisamos de uma cópia do repositório?</para>
	  </question>

	  <answer>
	    <para>Quando você deseja adicionar um port relacionado a qualquer port que já esteja na árvore em um diretório separado, é necessário fazer uma cópia do repositório. Aqui <wordasword>relacionado</wordasword> significa que é uma versão diferente ou uma versão ligeiramente modificada. Exemplos são <filename>print/ghostscript*</filename> (versões diferentes) e <filename>x11-m/windowmaker*</filename> (versão somente inglesa e internacionalizada).</para>

	    <para>Outro exemplo é quando um port é movido de um subdiretório para outro, ou quando o nome de um diretório deve ser alterado porque os autores renomearam seu software mesmo sendo um descendente de um port que já esta em uma árvore.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-repocopy-how">
	  <question>
	    <para>O que eu preciso fazer?</para>
	  </question>

	  <answer>
	    <para>Com o Subversion, uma cópia do repo pode ser feita por qualquer committer:</para>

	    <itemizedlist>
	      <listitem>
		<para>Fazendo uma cópia do repo:</para>

		<procedure>
		  <step>
		    <para>Verifique se o diretório de destino não existe.</para>
		  </step>

		  <step>
		    <para>Use o <command>svn up</command> para garantir que os arquivos originais, diretórios e informações de checkout sejam atuais.</para>
		  </step>

		  <step>
		    <para>Use o <command>svn move</command> ou o <command>svn copy</command> para fazer a cópia do repo.</para>
		  </step>

		  <step>
		    <para>Atualize o port copiado para a nova versão. Lembre-se de incluir ou alterar o <varname>PKGNAMEPREFIX</varname> ou <varname>PKGNAMESUFFIX</varname> para que não haja ports duplicados com o mesmo nome. Em alguns casos raros, pode ser necessário alterar o <varname>PORTNAME</varname> em vez de adicionar o <varname>PKGNAMEPREFIX</varname> ou o <varname>PKGNAMESUFFIX</varname>, mas isso só é feito quando é realmente necessário - por exemplo, usando um port existente como base para um programa muito semelhante com um nome diferente ou atualizando um port para uma nova versão upstream que realmente altera o nome da distribuição, como a transição de <filename>textproc/libxml</filename> para <filename>textproc/libxml2</filename>. Na maioria dos casos, adicionar ou alterar o <varname>PKGNAMEPREFIX</varname> ou o <varname>PKGNAMESUFFIX</varname> é suficiente.</para>
		  </step>

		  <step>
		    <para>Adicione o novo subdiretório ao <varname>SUBDIR</varname> listado no diretório pai do <filename>Makefile</filename>. Você pode executar <command>make checksubdirs</command> no diretório pai para verificar isso.</para>
		  </step>

		  <step>
		    <para>Se o port mudou de categoria, modifique a linha <varname>CATEGORIES</varname> do <filename>Makefile</filename> do port adequadamente</para>
		  </step>

		  <step>
		    <para>Adicione uma entrada em <filename>ports/MOVED</filename>, se você remover o port original.</para>
		  </step>

		  <step>
		    <para>Faça o commit de todas as alterações de uma única vez</para>
		  </step>
		</procedure>
	      </listitem>

	      <listitem>
		<para>Ao remover um port:</para>

		<procedure>
		  <step>
		    <para>Execute uma verificação completa da coleção de ports para quaisquer dependências no local/nome do port antigo e os atualize. A execução do <command>grep</command> no <filename>INDEX</filename> não é suficiente porque alguns ports possuem dependências ativadas pelas opções em tempo de compilação. Um <command>grep -r</command> completo da coleção de ports é recomendado.</para>
		  </step>

		  <step>
		    <para>Remova o port antigo e a entrada <varname>SUBDIR</varname> antiga.</para>
		  </step>

		  <step>
		    <para>Adicione uma entrada em <filename>ports/MOVED</filename>.</para>
		  </step>
		</procedure>
	      </listitem>

	      <listitem>
		<para>Após o repo ser movido (operação para <quote>renomear</quote> na qual um port é copiado e o local antigo é removido):</para>

		<procedure>
		  <step>
		    <para>Siga as mesmas etapas descritas nas duas entradas anteriores para ativar o novo local do port e remover o antigo.</para>
		  </step>
		</procedure>
	      </listitem>
	    </itemizedlist>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-freeze">
	<title>Freeze do Ports </title>

	<qandaentry xml:id="ports-qa-freeze-what">
	  <question>
	    <para>O que é um <quote>ports freeze</quote>?</para>
	  </question>

	  <answer>
	    <para>Um <quote>ports freeze</quote> é um estado restrito em que a árvore de ports é colocada antes de uma release. Ele é usado para garantir uma qualidade superior para os pacotes enviados com um release. Geralmente dura algumas semanas. Durante esse tempo, problemas de build foram corrigidos e os pacotes de release foram criados. Esta prática não é mais usada, já que os pacotes para os releases são compilados a partir da branch trimestral stable.</para>

	    <para>Para obter mais informações sobre como aplicar commits na branch trimestral, consulte <xref linkend="ports-qa-misc-request-mfh"/>.</para>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-quarterly">
	<title>Branches Trimestrais</title>

	<qandaentry xml:id="ports-qa-misc-request-mfh">
	  <question>
	    <para>Qual é o procedimento para solicitar autorização para aplicar um commit à branch trimestral?</para>
	  </question>

	  <answer>
	    <para>Ao fazer o commit, inclua o nome da branch na linha <literal>MFH:</literal>, por exemplo:</para>

	    <programlisting>MFH:	<replaceable>2014Q1</replaceable></programlisting>

	    <para>Ele notificará automaticamente a Equipe de Segurança do Ports <email>ports-secteam@FreeBSD.org</email> e a Equipe de Gerenciamento de Ports <email>portmgr@FreeBSD.org</email>. Eles então decidirão se o commit pode ser aplicado e responder com o procedimento.</para>

	    <para>Se o commit já foi feito, envie um email para a Equipe de Segurança do Ports <email>ports-secteam@FreeBSD.org</email> e a Equipe de Gerenciamento de Ports <email>portmgr@FreeBSD.org</email> com o numero de revisão e uma pequena descrição de por que o commit precisa ser aplicado.</para>

	    <tip>
	      <para>Se o MFH está coberto por uma aprovação geral, explique o porque com algumas palavras na linha <literal>MFH</literal>, para que a equipe de revisão possa ignorar esse commit e economizar tempo. Por exemplo:</para>

	      <programlisting>MFH:  <replaceable>2014Q1 (runtime fix)</replaceable>
MFH:  <replaceable>2014Q1 (browser blanket)</replaceable></programlisting>

	      <para>A lista de aprovações gerais está disponível em <xref linkend="ports-qa-blanket"/>.</para>
	    </tip>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-blanket">
	  <question>
	    <para>Existe alguma alteração para a qual possa ser feito o commit sem aprovação?</para>
	  </question>

	  <answer>
	    <para>As seguintes aprovações gerais estão em vigor:</para>

	    <important>
	      <para>Estas correções <emphasis>devem</emphasis> ser testadas na branch trimestral.</para>
	    </important>

	    <itemizedlist>

	      <listitem>
		<para>Correções que não resultam em uma alteração no conteúdo do pacote resultante. Por exemplo:</para>

		<itemizedlist>
		  <listitem>
		    <para><filename>pkg-descr</filename>: <literal>WWW:</literal> URL updates (existing 404, moved or incorrect)</para>
		  </listitem>
		</itemizedlist>
	      </listitem>

	      <listitem>
		<para>Correções de build, tempo de execução ou empacotamento, se a versão da branch trimestral estiver atualmente quebrada.</para>
	      </listitem>

	      <listitem>
		<para>Dependências ausentes (detectadas, vinculadas, mas não registradas, por meio de <varname><replaceable>*</replaceable>_DEPENDS</varname>).</para>
	      </listitem>

	      <listitem>
		<para>Correções de <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/porters-handbook/uses-shebangfix.html">shebangs</link>, remoção de bibliotecas e binários instalados e correções de plst.</para>
	      </listitem>

	      <listitem>
		<para>Backport de segurança e correções de confiabilidade que resultam apenas em um incremento no <varname>PORTREVISION</varname> e nenhuma alteração nos recursos habilitados. Por exemplo, adição de um patch que corrige um estouro de buffer.</para>
	      </listitem>

	      <listitem>
		<para>Alterações de versões secundárias que não fazem nada além de corrigir problemas de segurança ou relacionados a falhas.</para>
	      </listitem>

	      <listitem>
		<para>Adição/Conserto de <varname>CONFLICTS</varname>.</para>
	      </listitem>

	      <listitem>
		<para>Navegadores Web, plug-ins do navegador e suas dependências necessárias.</para>
	      </listitem>
	    </itemizedlist>

	    <important>
	      <para>Commits que não são cobertos por essas aprovações gerais sempre exigem aprovação explícita da Equipe de Segurança do Ports <email>ports-secteam@FreeBSD.org</email> ou da Equipe de Gerenciamento de Ports <email>portmgr@FreeBSD.org</email>.</para>
	    </important>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-misc-commit-mfh">
	  <question>
	    <para>Qual é o procedimento para aplicar os commits à branch trimestral?</para>
	  </question>

	  <answer>
	    <para>Um script é fornecido para automatizar a mesclagem de um commit específico: <filename>ports/Tools/scripts/mfh</filename>. É usado da seguinte forma:</para>

	    <screen><prompt>%</prompt> <userinput>/usr/ports/Tools/scripts/mfh 380362</userinput>
 U   2015Q1
Checked out revision 380443.
A    2015Q1/security
Updating '2015Q1/security/rubygem-sshkit':
A    2015Q1/security/rubygem-sshkit
A    2015Q1/security/rubygem-sshkit/Makefile
A    2015Q1/security/rubygem-sshkit/distinfo
A    2015Q1/security/rubygem-sshkit/pkg-descr
Updated to revision 380443.
--- Merging r380362 into '2015Q1':
U    2015Q1/security/rubygem-sshkit/Makefile
U    2015Q1/security/rubygem-sshkit/distinfo
--- Recording mergeinfo for merge of r380362 into '2015Q1':
 U   2015Q1
--- Recording mergeinfo for merge of r380362 into '2015Q1/security':
 G   2015Q1/security
--- Eliding mergeinfo from '2015Q1/security':
 U   2015Q1/security
--- Recording mergeinfo for merge of r380362 into '2015Q1/security/rubygem-sshkit':
 G   2015Q1/security/rubygem-sshkit
--- Eliding mergeinfo from '2015Q1/security/rubygem-sshkit':
 U   2015Q1/security/rubygem-sshkit
 M      2015Q1
M       2015Q1/security/rubygem-sshkit/Makefile
M       2015Q1/security/rubygem-sshkit/distinfo
Index: 2015Q1/security/rubygem-sshkit/Makefile
===================================================================
--- 2015Q1/security/rubygem-sshkit/Makefile     (revision 380443)
+++ 2015Q1/security/rubygem-sshkit/Makefile     (working copy)
@@ -2,7 +2,7 @@
 # $FreeBSD$

 PORTNAME=      sshkit
-PORTVERSION=   1.6.1
+PORTVERSION=   1.7.0
 CATEGORIES=    security rubygems
 MASTER_SITES=  RG

Index: 2015Q1/security/rubygem-sshkit/distinfo
===================================================================
--- 2015Q1/security/rubygem-sshkit/distinfo     (revision 380443)
+++ 2015Q1/security/rubygem-sshkit/distinfo     (working copy)
@@ -1,2 +1,2 @@
-SHA256 (rubygem/sshkit-1.6.1.gem) = 8ca67e46bb4ea50fdb0553cda77552f3e41b17a5aa919877d93875dfa22c03a7
-SIZE (rubygem/sshkit-1.6.1.gem) = 135680
+SHA256 (rubygem/sshkit-1.7.0.gem) = 90effd1813363bae7355f4a45ebc8335a8ca74acc8d0933ba6ee6d40f281a2cf
+SIZE (rubygem/sshkit-1.7.0.gem) = 136192
Index: 2015Q1
===================================================================
--- 2015Q1      (revision 380443)
+++ 2015Q1      (working copy)

Property changes on: 2015Q1
___________________________________________________________________
Modified: svn:mergeinfo
   Merged /head:r380362
Do you want to commit? (no = start a shell) [y/n]</screen>

	    <para>Nesse ponto, o script abrirá um shell para você consertar as coisas ou abrirá o editor de texto com a mensagem de commit preparada e, em seguida, irá aplicar o commit.</para>

	    <para>O script assume que você pode se conectar ao <literal>repo.FreeBSD.org</literal> com o <application>SSH</application> diretamente, então se o seu nome de login local for diferente da sua conta no cluster do FreeBSD, você precisa de algumas linhas em seu <filename>~/.ssh/config</filename>:</para>

	    <programlisting>Host *.freebsd.org
    User <replaceable>freebsd-login</replaceable></programlisting>

	    <tip>
	      <para>O script também pode aplicar mais de uma revisão por vez. Se houver outras atualizações no port desde que a branch foi criada e que não foram aplicadas porque não estavam relacionadas à segurança. Adicione as diferentes revisões <emphasis>na ordem em que foram feitos seus commits</emphasis> na linha de comando <command>mfh</command>. A nova mensagem de log de commit conterá as mensagens de log combinadas de todos os commits originais. Estas mensagens <emphasis>devem</emphasis> ser editadas para mostrar o que realmente está sendo feito com o novo commit.</para>

	      <screen><prompt>%</prompt> <userinput>/usr/ports/Tools/scripts/mfh r407208 r407713 r407722 r408567 r408943 r410728</userinput></screen>
	    </tip>

	    <note>
	      <para>O script mfh também pode ter um primeiro argumento opcional, a branch onde a aplicação está sendo feita. Apenas a última branch trimestral é suportada, portanto, especificar a branch é desencorajado. Por segurança, o script emitirá um aviso se a branch trimestral não for a mais recente:</para>

	      <screen><prompt>%</prompt> <userinput>/usr/ports/Tools/scripts/mfh 2016Q1 r407208 r407713</userinput>
/!\ The latest branch is 2016Q2, do you really want to commit to 2016Q1? [y/n]</screen>
	    </note>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-new-category">
	<title>Criando uma Nova Categoria</title>

	<qandaentry xml:id="ports-qa-new-category-how">
	  <question>
	    <para>Qual é o procedimento para criar uma nova categoria?</para>
	  </question>

	  <answer>
	    <para>Por favor, veja <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/porters-handbook/makefile-categories.html#proposing-categories">Propondo uma nova categoria</link> no FreeBSD Porter's Handbook. Uma vez que o procedimento tenha sido seguido e o PR tenha sido atribuído à Equipe de Gerenciamento de Ports <email>portmgr@FreeBSD.org</email>, é decisão deles aprová-lo ou não. Se eles fizerem isso, é sua responsabilidade:</para>

	    <procedure>
	      <step>
		<para>Executar todos os passos necessários. (Isso só se aplica a categorias físicas.)</para>
	      </step>

	      <step>
		<para>Atualizar a definição de <varname>VALID_CATEGORIES</varname> em <filename>ports/Mk/bsd.port.mk</filename>.</para>
	      </step>

	      <step>
		<para>Atribua o PR de volta para você.</para>
	      </step>
	    </procedure>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-new-category-physical">
	  <question>
	    <para>O que preciso fazer para implementar uma nova categoria física?</para>
	  </question>

	  <answer>
	    <procedure>
	      <step>
		<para>Atualize o <filename>Makefile</filename> de cada port movido. Não conecte a nova categoria ao build ainda.</para>

		<para>Para fazer isso, você precisará:</para>

		<procedure>
		  <step>
		    <para>Altere as <varname>CATEGORIES</varname> do port (esse foi o ponto do exercício, lembra?) A nova categoria está listada <emphasis>primeiro</emphasis>. Isso ajudará a garantir que o <varname>PKGORIGIN</varname> esteja correto.</para>
		  </step>

		  <step>
		    <para>Execute um <command>make describe</command>. Como o <command>make index</command> de nível superior que você executará em poucas etapas é uma iteração do <command>make describe</command> sobre a hierarquia de ports inteira, detectar erros aqui irá salvar você de ter que voltar a executar esse passo mais tarde.</para>
		  </step>

		  <step>
		    <para>Se você quiser ser realmente meticuloso, agora pode ser um bom momento para executar o <citerefentry vendor="ports"><refentrytitle>portlint</refentrytitle><manvolnum>1</manvolnum></citerefentry>.</para>
		  </step>
		</procedure>
	      </step>

	      <step>
		<para>Verifique se os <varname>PKGORIGIN</varname>s estão corretos. O sistema de ports usa a entrada <varname>CATEGORIES</varname> de cada port para criar seu <varname>PKGORIGIN</varname>, que é usado para conectar pacotes instalados ao diretório de port do qual eles foram compilados. Se esta entrada estiver errada, ferramentas de port comuns como <citerefentry><refentrytitle>pkg_version</refentrytitle><manvolnum>1</manvolnum></citerefentry> e o <citerefentry vendor="ports"><refentrytitle>portupgrade</refentrytitle><manvolnum>1</manvolnum></citerefentry> irão falhar.</para>

		<para>Para fazer isso, use a ferramenta <filename>chkorigin.sh</filename>: <command>env PORTSDIR=<replaceable>/path/to/ports</replaceable> sh -e <replaceable>/path/to/ports</replaceable>/Tools/scripts/chkorigin.sh</command>. Isso irá verificar <emphasis>todos</emphasis> os ports na árvore de ports, mesmo aqueles que não estão conectados à compilação, para que você possa executá-las diretamente após a operação de mudança. Dica: não esqueça de olhar para o <varname>PKGORIGIN</varname>s de qualquer port slave dos ports que você acabou de mudar!</para>
	      </step>

	      <step>
		<para>Em seu próprio sistema local, teste as alterações propostas: primeiro, comente as entradas <varname>SUBDIR</varname> nos <filename>Makefile</filename>s das 'categorias' antigas do port; em seguida, habilite a compilação da nova categoria em <filename>ports/Makefile</filename>. Execute <command>make checksubdirs</command> nos diretórios de categoria afetados para verificar as entradas <varname>SUBDIR</varname>. Em seguida, no diretório <filename>ports/</filename>, execute <command>make index</command>. Isso pode levar mais de 40 minutos em sistemas modernos; no entanto, é um passo necessário para evitar problemas para outras pessoas.</para>
	      </step>

	      <step>
		<para>Uma vez feito isso, você pode fazer o commit do <filename>ports/Makefile</filename> atualizado para conectar a nova categoria à compilação e também fazer o commit das alterações do <filename>Makefile</filename> para a categoria ou categorias antigas.</para>
	      </step>

	      <step>
		<para>Adicione as entradas apropriadas no <filename>ports/MOVED</filename>.</para>
	      </step>

	      <step>
		<para>Atualize a documentação modificando:</para>

		<itemizedlist>
		  <listitem>
		    <para>a <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/porters-handbook/makefile-categories.html#PORTING-CATEGORIES">lista de categorias</link> no FreeBSD Porter's Handbook</para>
		  </listitem>

		  <listitem>
		    <para><filename>doc/en_US.ISO8859-1/htdocs/ports</filename>. Observe que agora eles são exibidos por subgrupos, conforme especificado em <filename>doc/en_US.ISO8859-1/htdocs/ports/categories.descriptions</filename>.</para>
		  </listitem>
		</itemizedlist>

		<para>(Nota: estes estão nos docs, não nos ports, repositório). Se você não é um doc committer, você precisará enviar um PR para isso.</para>
	      </step>

	      <step>
		<para>Apenas quando todas as opções acima tiverem sido concluídas, e ninguém mais estiver relatando problemas com os novos ports, os ports antigos devem ser excluídos de seus locais anteriores no repositório.</para>
	      </step>
	    </procedure>

	    <para>Não é necessário atualizar manualmente as <link xlink:href="@@URL_RELPREFIX@@/ports/index.html">páginas web dos ports</link> para refletir a nova categoria. Isso será feito automaticamente através da alteração em <filename>en_US.ISO8859-1/htdocs/ports/categories</filename> e o rebuild automático do <filename>INDEX</filename>.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-new-category-virtual">
	  <question>
	    <para>O que preciso fazer para implementar uma nova categoria virtual?</para>
	  </question>

	  <answer>
	    <para>Isso é muito mais simples que uma categoria física. Apenas algumas modificações são necessárias:</para>

	    <itemizedlist>
	      <listitem>
		<para>a <link xlink:href="@@URL_RELPREFIX@@/doc/en_US.ISO8859-1/books/porters-handbook/makefile-categories.html#PORTING-CATEGORIES">lista de categorias</link> no FreeBSD Porter's Handbook</para>
	      </listitem>

	      <listitem>
		<para><filename>en_US.ISO8859-1/htdocs/ports/categories</filename></para>
	      </listitem>
	    </itemizedlist>
	  </answer>
	</qandaentry>
      </qandadiv>

      <qandadiv xml:id="ports-qa-misc-questions">
	<title>Perguntas Diversas</title>

	<qandaentry xml:id="ports-qa-misc-correctly-building">
	  <question>
	    <para>Como sei se meu port está sendo compilado corretamente ou não?</para>
	  </question>

	  <answer>
	    <para>Os pacotes são criados várias vezes por semana. Se um port falhar, o mantenedor receberá um email de <literal>pkg-fallout@FreeBSD.org</literal>.</para>

	    <para>Relatórios para todas as compilações de pacotes (oficiais, experimentais e não regressivos) são agregados em <link xlink:href="https://pkg-status.freebsd.org/">pkg-status.FreeBSD.org</link>.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-misc-INDEX">
	  <question>
	    <para>Eu adicionei um novo port. Preciso adicioná-lo ao <filename>INDEX</filename>?</para>
	  </question>

	  <answer>
	    <para>Não. O arquivo pode ser gerado executando <command>make index</command>, ou uma versão pré-gerada pode ser baixada com o comando <command>make fetchindex</command>.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-misc-no-touch">
	  <question>
	    <para>Existem outros arquivos que não tenho permissão para tocar?</para>
	  </question>

	  <answer>
	    <para>Qualquer arquivo diretamente sob <filename>ports/</filename>, ou qualquer arquivo sob um subdiretório que comece com uma letra maiúscula (<filename>Mk/</filename>, <filename>Tools/</filename>, etc.) . Em particular, a Equipe de Gerenciamento de Ports <email>portmgr@FreeBSD.org</email> protege muito o <filename>ports/Mk/bsd.port*.mk </filename>, portanto, não faça alterações nesses arquivos, a menos que você queira enfrentar a sua ira.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-qa-misc-updated-distfile">
	  <question>
	    <para>Qual é o procedimento adequado para atualizar o checksum de um distfile de um port quando o arquivo é alterado sem uma alteração de versão?</para>
	  </question>

	  <answer>
	    <para>Quando o checksum de um arquivo de distribuição é atualizado devido ao autor atualizar o arquivo sem alterar a revisão do port, a mensagem de commit inclui um resumo dos diffs relevantes entre o distfile original e novo para garantir que o distfile não tenha sido corrompido ou alterado de maneira mal-intencionada . Se a versão atual do port estiver na árvore de ports por um tempo, uma cópia do antigo distfile estará normalmente disponível nos servidores ftp; caso contrário, o autor ou mantenedor deve ser contatado para descobrir por que o distfile foi alterado.</para>
	  </answer>
	</qandaentry>

	<qandaentry xml:id="ports-exp-run">
	  <question>
	    <para>Como uma build de teste experimental da árvore de ports (<emphasis>exp-run</emphasis>) pode ser solicitada?</para>
	  </question>

	  <answer>
	    <para>Um exp-run deve ser realizado antes que seja feito o commit de patches com um impacto significativo nos ports. O patch pode ser contra a árvore de ports ou o sistema base.</para>

	    <para>A build completa do pacote será feita com as correções fornecidas pelo remetente, e o remetente deverá corrigir os problemas detectados (<emphasis>fallout</emphasis>) antes de fazer o commit.</para>

	    <procedure>
	      <step>
		<para>Vá para a <link xlink:href="https://bugs.freebsd.org/submit">nova página de <acronym>PR</acronym> do Bugzilla</link>.</para>
	      </step>

	      <step>
		<para>Selecione o produto ao qual seu patch se aplica.</para>
	      </step>

	      <step>
		<para>Preencha o relatório de erros normalmente. Lembre-se de anexar o patch.</para>
	      </step>

	      <step>
		<para>Se no topo existir <quote>Show Advanced Fields</quote> clique sobre ele. Agora, ele dirá <quote>Hide Advanced Fields</quote>. Muitos novos campos estarão disponíveis. Se a pagina já diz <quote>Hide Advanced Fields</quote>, não precisa fazer nada.</para>
	      </step>

	      <step>
		<para>Na seção <quote>Flags</quote>, defina o <quote>exp-run</quote> para <literal>?</literal>. Quanto a todos os outros campos, passar o mouse sobre qualquer campo mostrará mais detalhes.</para>
	      </step>

	      <step>
		<para>Envie. Aguarde a build ser executada.</para>
	      </step>

	      <step>
		<para>A equipe de gerenciamento de ports <email>portmgr@FreeBSD.org</email> responderá com uma possível fallout.</para>
	      </step>

	      <step>
		<para>Dependendo do fallout:</para>

		<stepalternatives>
		  <step>
		    <para>Se não houver nenhuma falha, o procedimento será interrompido e você poderá fazer o commit da alteração, pendente de qualquer outra aprovação que seja necessária.</para>
		  </step>

		  <step>
		    <substeps>
		      <step>
			<para>Se houver uma falha, ela <emphasis>deve</emphasis> ser corrigida, seja consertando os ports diretamente na árvore de ports, ou adicionando ao patch enviado.</para>
		      </step>

		      <step>
			<para>Quando isso estiver pronto, volte para a etapa 6, informando que a falha foi corrigida e aguarde a exp-run ser executada novamente. Repita quantas vezes necessário enquanto houver ports quebrados.</para>
		      </step>
		    </substeps>
		  </step>
		</stepalternatives>
	      </step>
	    </procedure>
	  </answer>
	</qandaentry>
      </qandadiv>
    </qandaset>
  </sect1>

  <sect1 xml:id="non-committers">
    <title>Problemas Específicos para Desenvolvedores Que Não São Committers</title>

    <para>Algumas pessoas que têm acesso às máquinas do FreeBSD não possuem commit bits. Quase todo este documento também será aplicado a esses desenvolvedores (exceto itens específicos de commits e associações de listas de discussão que os acompanham). Em particular, recomendamos que você leia:</para>

    <itemizedlist>
      <listitem>
	<para><link linkend="admin">Detalhes Administrativos</link></para>
      </listitem>

      <listitem>
	<para><link linkend="conventions-everyone">Convenções</link></para>

	<note>
	  <para>Peça ao seu mentor para adicioná-lo em <quote>Colaboradores Adicionais</quote> (<filename>doc/en_US.ISO8859-1/articles/contributors/contrib.additional.xml</filename>), se você ainda não estiver listado há.</para>
	</note>
      </listitem>

      <listitem>
	<para><link linkend="developer.relations">Relações entre os Desenvolvedores</link></para>
      </listitem>

      <listitem>
	<para><link linkend="ssh.guide">Guia de início rápido do SSH</link></para>
      </listitem>

      <listitem>
	<para><link linkend="rules">A Grande Lista de Regras dos Committers do FreeBSD</link></para>
      </listitem>
    </itemizedlist>

  </sect1>

  <sect1 xml:id="google-analytics">
    <title>Informações sobre o Google Analytics</title>

    <para>A partir de 12 de dezembro de 2012, o Google Analytics foi habilitado no site do Projeto FreeBSD para coletar estatísticas anônimas sobre o uso do site. As informações coletadas são valiosas para o Projeto de Documentação do FreeBSD, para identificar vários problemas no site do FreeBSD.</para>

    <sect2 xml:id="google-analytics-policy">
      <title>Política Geral do Google Analytics</title>

      <para>O projeto FreeBSD leva a privacidade do visitante muito a sério. Como tal, o site do Projeto FreeBSD honra o cabeçalho <quote>Do Not Track</quote> <emphasis>antes</emphasis> de buscar o código de monitoramento do Google. Para mais informações, consulte a <link xlink:href="https://www.FreeBSD.org/privacy.html">Política de Privacidade do FreeBSD</link>.</para>

      <para>O acesso do Google Analytics <emphasis>não</emphasis> é arbitrariamente permitido - o acesso deve ser solicitado, votado pela Equipe de Engenharia de Documentação <email>doceng@FreeBSD.org</email> e explicitamente concedido.</para>

      <para>Solicitações de acesso aos dados do Google Analytics devem incluir uma finalidade específica. Por exemplo, uma razão válida para solicitar acesso seria <quote>para ver os navegadores web usados com mais freqüência pelos visitantes do website do FreeBSD para garantir que as velocidades de renderização da página sejam aceitáveis.</quote></para>

      <para>Por outro lado, <quote>ver quais navegadores são usados com mais freqüência</quote> (sem declarar <emphasis>por que</emphasis>) seria rejeitado.</para>

      <para>Todas as solicitações devem incluir o período de tempo para o qual os dados seriam requisitados. Por exemplo, deve ser explicitamente declarado se os dados solicitados seriam requisitados em um período de tempo que abranja um período de 3 semanas, ou se o pedido seria para acessar apenas uma vez.</para>

      <para>Qualquer pedido de dados do Google Analytics sem uma razão clara e razoável que beneficie o Projeto FreeBSD será rejeitado.</para>
    </sect2>

    <sect2 xml:id="google-analytics-data">
      <title>Dados disponíveis por meio do Google Analytics</title>

      <para>Alguns exemplos dos tipos de dados do Google Analytics disponíveis incluem:</para>

      <itemizedlist>
	<listitem>
	  <para>Navegadores Web comumente usados</para>
	</listitem>

	<listitem>
	  <para>Tempos de carregamento de páginas</para>
	</listitem>

	<listitem>
	  <para>Acesso ao site por idioma</para>
	</listitem>
      </itemizedlist>
    </sect2>
  </sect1>

  <sect1 xml:id="misc">
    <title>Perguntas Diversas</title>

    <qandaset>
      <qandaentry>
	<question>
	  <para>Por que as mudanças triviais ou cosméticas nos arquivos de um branch de um  fornecedor são uma má ideia?</para>
	</question>

	<answer>
	  <itemizedlist>
	    <listitem>
	      <para>Porque a partir de agora, cada nova release do fornecedor desse arquivo precisará ter os patches integrados manualmente.</para>
	    </listitem>

	    <listitem>
	      <para>A partir de agora, cada nova release do fornecedor desse arquivo precisará ter correções <emphasis>verificadas</emphasis> manualmente.</para>
	    </listitem>
	  </itemizedlist>
	</answer>
      </qandaentry>

      <qandaentry>
	<question>
	  <para>Como adiciono um novo arquivo a uma branch?</para>
	</question>

	<answer>
	  <para>Para adicionar um arquivo a uma branch, simplesmente faça o check-out ou atualize-o na branch que você deseja adicionar e, em seguida, adicione o arquivo usando a operação add como faria normalmente. Isso funciona bem para as árvores <literal>doc</literal> e <literal>ports</literal>. A árvore <literal>src</literal> usa o SVN e requer mais cuidado por causa das propriedades <literal>mergeinfo</literal>. Veja o <link linkend="subversion-primer"> Subversion Primer</link> para detalhes sobre como executar um MFC.</para>
	</answer>
      </qandaentry>

      <qandaentry>
	<question>
	  <para>Como eu acesso <systemitem class="fqdomainname">people.FreeBSD.org</systemitem> para colocar informações pessoais ou de projeto?</para>
	</question>

	<answer>
	  <para>O servidor <systemitem class="fqdomainname">people.FreeBSD.org</systemitem> é o mesmo que <systemitem class="fqdomainname">freefall.FreeBSD.org</systemitem>. Basta criar um diretório <filename>public_html</filename>. Qualquer coisa que você colocar nesse diretório será automaticamente visível em <uri xlink:href="https://people.FreeBSD.org/">https://people.FreeBSD.org/</uri>.</para>
	</answer>
      </qandaentry>

      <qandaentry>
	<question>
	  <para>Onde estão armazenados os arquivos da lista de discussão?</para>
	</question>

	<answer>
	  <para>As listas de discussão são arquivadas em <filename>/local/mail</filename> na <systemitem class="fqdomainname">freefall.FreeBSD.org</systemitem>.</para>
	</answer>
      </qandaentry>

      <qandaentry>
	<question>
	  <para>Eu gostaria de ser mentor de um novo committer. Qual processo eu preciso seguir?</para>
	</question>

	<answer>
	  <para>Consulte o documento <link xlink:href="https://www.freebsd.org/internal/new-account.html">Novo Procedimento para Criação de Conta</link> nas páginas internas.</para>
	</answer>
      </qandaentry>
    </qandaset>
  </sect1>

  <sect1 xml:id="benefits">
    <title>Benefícios e vantagens para os Commiters do FreeBSD</title>

    <sect2 xml:id="benefits-recognition">
      <title>Reconhecimento</title>

      <para>O reconhecimento como engenheiro de software competente é o valor mais duradouro. Além disso, ter a chance de trabalhar com algumas das melhores pessoas que todos os engenheiros sonham em conhecer é um grande privilégio!</para>
    </sect2>

    <sect2 xml:id="benefits-freebsdmall">
      <title>FreeBSD Mall</title>

      <para>Os committers do FreeBSD podem obter um conjunto gratuito de 4-CDs ou DVDs da <link xlink:href="http://www.freebsdmall.com">FreeBSD Mall, Inc.</link> em conferências.</para>
    </sect2>

    <sect2 xml:id="benefits-irc">
      <title><acronym>IRC</acronym></title>

      <para>Além disso, os desenvolvedores podem solicitar um "cloaked hostmask" para sua conta na rede Freenode de IRC na forma de <literal>freebsd/developer/</literal><replaceable>nome_na_freefall</replaceable> ou <literal>freebsd/developer/</literal><replaceable>nome_no_NickServ</replaceable>. Para solicitar uma máscara, envie um e-mail para <email>irc@FreeBSD.org</email> com o nome da sua hostmask solicitada e nome da conta no NickServ.</para>
    </sect2>

    <sect2 xml:id="benefits-gandi">
      <title><systemitem class="domainname">Gandi.net</systemitem></title>

      <para>A Gandi fornece hospedagem de sites, computação em nuvem, registro de domínio e serviços de certificados X.509.</para>

      <para>A Gandi oferece um desconto E-rate para todos os desenvolvedores do FreeBSD. Envie e-mail para <email>non-profit@gandi.net</email> usando o seu endereço de e-mail <literal>@freebsd.org</literal> e indique o seu identificador no Gandi.</para>
    </sect2>
  </sect1>
</article>
